/* **********************************************************************
 *  MOTYW: PREMIUM NEON GLOSSY
 *  - solidne zmienne (light/dark)
 *  - neonowe akcenty, szkÅ‚o, miÄ™kkie cienie
 *  - dbaÅ‚oÅ›Ä‡ o mobilki i dostÄ™pnoÅ›Ä‡
 * ********************************************************************** */

/* ---------- Zmienne globalne ---------- */


/* Globalne odsuniÄ™cie treÅ›ci od notcha i gestÃ³w */
html, body {
  height: 100%;
  box-sizing: border-box;
  padding-top: var(--safe-top);
  padding-bottom: var(--safe-bottom);
  padding-left: var(--safe-left);
  padding-right: var(--safe-right);
}

/* Sticky / fixed nagÅ‚Ã³wki i nawigacja przy dolnej krawÄ™dzi */
header, .tx-stickybar, .av2-sticky {
  padding-top: calc(var(--safe-top) + 4px);
}

footer, .nawigacja, .bottom-nav, .auth__footer {
  padding-bottom: var(--safe-bottom);
}

:root {
  /* TÅ‚o i tekst */
  --bg: #0b1220;                 /* domyÅ›lnie ciemny â€“ premium look */
  --fg: #e6e9f2;
  --muted: #a2aec3;

  /* Akcenty (neonowe) */
  --primary: #7c3aed;            /* fiolet (neon) */
  --primary-2: #06b6d4;          /* turkus (neon) */
  --success: #22c55e;
  --warning: #f59e0b;
  --error: #ff4d6d;

  /* SzkÅ‚o / karty */
  --card: rgba(18, 22, 34, 0.72);
  --card-strong: rgba(18, 22, 34, 0.86);
  --border: rgba(255, 255, 255, .12);
  --shadow: 0 20px 60px rgba(0, 0, 0, .45);
  --radius: 18px;

  /* Neonowe poÅ›wiaty */
  --glow-primary: 0 0 24px rgba(124, 58, 237, .55), 0 0 60px rgba(6, 182, 212, .35);
  --glow-soft: 0 8px 30px rgba(124, 58, 237, .25);

  /* Fokus (widoczny i miÄ™kki) */
  --focus: 0 0 0 3px rgba(124, 58, 237, .35), 0 0 0 6px rgba(6, 182, 212, .25);

  /* gradient tÅ‚a */
  --bg-grad: radial-gradient(1200px 800px at 10% -10%, rgba(124,58,237,.18), transparent 55%),
             radial-gradient(1000px 700px at 110% 10%, rgba(6,182,212,.18), transparent 55%),
             linear-gradient(180deg, #0b1220, #0a0f1b);

  /* przeÅ‚Ä…cznik light/dark z html[data-theme] niÅ¼ej */
}

/* ---------- Wersja jasna (opcjonalna) ---------- */
html[data-theme="light"] {
  --bg: #f7f8fc;
  --fg: #0f172a;
  --muted: #5b6477;

  --card: rgba(255, 255, 255, .78);
  --card-strong: rgba(255, 255, 255, .94);
  --border: rgba(0, 0, 0, .08);
  --shadow: 0 18px 48px rgba(16, 24, 40, .12);

  --glow-primary: 0 0 24px rgba(124, 58, 237, .45), 0 0 60px rgba(6, 182, 212, .25);
  --focus: 0 0 0 3px rgba(124, 58, 237, .3), 0 0 0 6px rgba(6, 182, 212, .18);
}

/* ---------- Reset bazowy i tÅ‚o premium ---------- */
* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
  color: var(--fg);
  line-height: 1.55;
  background: var(--bg-grad);
  background-color: var(--bg); /* fallback */
}

/* Dyskretna siateczka (premium) â€“ moÅ¼na wyÅ‚Ä…czyÄ‡ zakomentowaniem */
body::before {
  content: "";
  position: fixed; inset: 0;
  background-image:
    linear-gradient(rgba(255,255,255,.03) 1px, transparent 1px),
    linear-gradient(90deg, rgba(255,255,255,.03) 1px, transparent 1px);
  background-size: 24px 24px, 24px 24px;
  pointer-events: none;
  z-index: -1;
}

/* Tekst tylko dla czytnikÃ³w ekranu */
.visually-hidden {
  position: absolute !important;
  width: 1px; height: 1px;
  margin: -1px; padding: 0; border: 0;
  clip: rect(0 0 0 0); clip-path: inset(50%);
  overflow: hidden; white-space: nowrap;
}

/* Preferencje ruchu â€“ Å‚agodniejsze animacje */
@media (prefers-reduced-motion: reduce) {
  * { animation-duration: .001ms !important; animation-iteration-count: 1 !important; transition-duration: .001ms !important; scroll-behavior: auto !important; }
}

/* ======================================================================
 *  BLOK 1: NAWIGACJA DOLNA (mobilna) â€“ NEON GLOSSY
 * ====================================================================== */

.nawigacja {
  --navx-safe: env(safe-area-inset-bottom, 0px);

  position: fixed;
  left: 0; right: 0; bottom: 0;
  z-index: 999;

  display: grid;
  grid-template-columns: repeat(4, 1fr);
  padding: 6px 8px calc(6px + var(--navx-safe));
  margin: 0;

  /* szkÅ‚o + gradient */
  background: linear-gradient(180deg, var(--card-strong), var(--card));
  border-top: 1px solid var(--border);
  box-shadow: 0 -6px 28px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.08);
  backdrop-filter: blur(16px) saturate(130%);
  -webkit-backdrop-filter: blur(16px) saturate(130%);
  border-radius: 16px 16px 0 0;
}

html[data-theme="light"] .nawigacja {
  box-shadow: 0 -6px 20px rgba(16,24,40,.12), inset 0 1px 0 rgba(255,255,255,.45);
}

/* Przyciski */
.nawigacja__btn {
  appearance: none; -webkit-appearance: none;
  background: transparent; border: 0; outline: 0;

  display: grid; place-items: center;
  grid-template-rows: 24px auto;
  padding: .7rem .35rem .6rem;
  margin: 0;
  border-radius: 14px;

  color: var(--muted); font: inherit; font-weight: 700;
  font-size: .9rem; line-height: 1;

  cursor: pointer; user-select: none;
  position: relative;

  transition: transform .1s ease, color .2s ease, background .25s ease, box-shadow .25s ease;
}

/* subtelny separator */
.nawigacja__btn:not(:last-child) {
  border-right: 1px solid color-mix(in oklab, var(--border) 85%, transparent);
}

/* Ikona i etykieta */
.nawigacja__ico {
  width: 22px; height: 22px;
  color: color-mix(in oklab, var(--fg) 85%, #fff 15%);
  transition: transform .12s ease, color .2s ease, text-shadow .2s ease;
}
.nawigacja__ico svg { width: 100%; height: 100%; fill: currentColor; }

.nawigacja__label {
  margin-top: .28rem;
  font-size: .78rem;
  letter-spacing: .2px;
  color: inherit;
}

/* Hover (desktop) i tap (mobile) */
@media (hover:hover) {
  .nawigacja__btn:hover {
    color: #fff;
    background: linear-gradient(180deg, rgba(124,58,237,.14), rgba(6,182,212,.10));
    box-shadow: inset 0 0 0 1px rgba(124,58,237,.25), 0 6px 16px rgba(6,182,212,.18);
  }
  .nawigacja__btn:hover .nawigacja__ico {
    transform: translateY(-2px);
    text-shadow: var(--glow-soft);
  }
}
.nawigacja__btn:active { transform: translateY(1px); }

/* Stan aktywny â€“ neonowy badge + dolna kreska */
.nawigacja__btn.is-active {
  color: #fff !important;
  background:
    linear-gradient(180deg, rgba(124,58,237,.22), rgba(6,182,212,.18)),
    linear-gradient(180deg, var(--card-strong), var(--card));
  box-shadow: var(--glow-primary), inset 0 0 0 1px rgba(124,58,237,.35);
}
.nawigacja__btn.is-active .nawigacja__ico { color: #fff; text-shadow: var(--glow-primary); }

.nawigacja__btn.is-active::before {
  content: "";
  position: absolute; left: 8px; right: 8px; bottom: 4px; height: 3px;
  border-radius: 999px;
  background: linear-gradient(90deg, var(--primary-2), var(--primary));
  transform-origin: left;
  animation: navx-underline .22s ease both;
}
@keyframes navx-underline { from { transform: scaleX(0) } to { transform: scaleX(1) } }

/* Rozmiary mobile */
@media (max-width: 600px) {
  .nawigacja { border-radius: 14px 14px 0 0; }
  .nawigacja__btn { grid-template-rows: 22px auto; padding: .6rem .2rem .5rem; }
  .nawigacja__label { font-size: .74rem; }
}

/* (opcjonalnie) odsuniÄ™cie treÅ›ci od paska
   body { padding-bottom: calc(74px + env(safe-area-inset-bottom, 0px)); } */


/* ======================================================================
 *  BLOK 2: EKRAN AUTORYZACJI (logowanie / rejestracja) â€“ NEON GLOSSY
 * ====================================================================== */

/* Przycisk przeÅ‚Ä…czania motywu (okrÄ…gÅ‚y, szkÅ‚o, neon ring) */
.theme-toggle {
  position: fixed; right: 16px; top: 16px; z-index: 10;
  width: 46px; height: 46px; border-radius: 999px;
  border: 1px solid var(--border);
  background: linear-gradient(180deg, var(--card-strong), var(--card));
  box-shadow: 0 10px 24px rgba(0,0,0,.25), inset 0 1px 0 rgba(255,255,255,.08);
  backdrop-filter: blur(14px) saturate(130%);
  -webkit-backdrop-filter: blur(14px) saturate(130%);
  cursor: pointer;
}
.theme-toggle:focus-visible { outline: none; box-shadow: var(--focus); }

/* Layout auth */
.auth {
  min-height: 100dvh;
  display: grid;
  grid-template-rows: auto 1fr auto;
  align-items: start;
  padding: 24px 12px 12px;
}

/* Logo */
.auth__header { display: grid; place-items: center; padding: 10px 0 8px; }
.auth__logo { height: 58px; max-width: 240px; object-fit: contain; filter: drop-shadow(0 8px 18px rgba(0,0,0,.4)); }

/* Karta (szkÅ‚o + glow) */
.auth__card {
  width: 100%; max-width: 780px; margin: 12px auto 0;
  background: linear-gradient(180deg, var(--card-strong), var(--card));
  border: 1px solid var(--border);
  border-radius: var(--radius);
  box-shadow: var(--shadow), inset 0 1px 0 rgba(255,255,255,.06);
  padding: 0; overflow: hidden;
  backdrop-filter: blur(16px) saturate(130%);
  -webkit-backdrop-filter: blur(16px) saturate(130%);
}

/* Tabs (Zaloguj | Zarejestruj) */
.auth__tabs {
  display: grid; grid-template-columns: 1fr 1fr;
  position: sticky; top: 0;
  background: linear-gradient(180deg, rgba(255,255,255,.04), transparent);
  border-bottom: 1px solid var(--border);
}
.auth__tab {
  appearance: none; border: 0; background: transparent;
  color: var(--muted); font-weight: 700; letter-spacing: .2px;
  padding: 16px 18px; cursor: pointer;
  transition: color .2s ease, background .2s ease, box-shadow .2s ease;
}
@media (hover:hover) {
  .auth__tab:hover {
    color: #fff;
    background: linear-gradient(180deg, rgba(124,58,237,.10), rgba(6,182,212,.08));
  }
}
.auth__tab.is-active {
  color: #fff;
  background: linear-gradient(180deg, rgba(124,58,237,.18), rgba(6,182,212,.12));
  box-shadow: inset 0 -2px 0 rgba(124,58,237,.75), inset 0 -4px 18px rgba(6,182,212,.18);
}
.auth__tab:focus-visible { outline: none; box-shadow: var(--focus); }

/* Panele (slider) */
.auth__panels {
  display: grid; grid-auto-flow: column; grid-auto-columns: 100%;
  transition: transform .35s ease;
  will-change: transform; touch-action: pan-x;
}
.auth__panel { padding: 26px 24px 24px; }

/* Formularz */
.form { display: grid; gap: 16px; }
.form__row { display: grid; gap: 8px; }
.form__label { font-weight: 700; color: color-mix(in oklab, var(--fg) 86%, #fff 14%); }

/* Pola â€“ szkÅ‚o + neon border na focus */
.form__input {
  appearance: none; width: 100%;
  border-radius: 14px;
  border: 1px solid var(--border);
  background: linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
  color: var(--fg);
  padding: 12px 14px;
  box-shadow: inset 0 2px 8px rgba(0,0,0,.15);
  transition: border-color .15s ease, box-shadow .2s ease;
}
.form__input:focus-visible {
  outline: none;
  border-color: color-mix(in oklab, var(--primary) 65%, var(--primary-2) 35%);
  box-shadow: var(--focus), 0 0 0 1px color-mix(in oklab, var(--primary) 70%, var(--primary-2) 30%);
}
.form__input--invalid {
  border-color: var(--error);
  box-shadow: 0 0 0 1px var(--error), 0 8px 20px rgba(255,77,109,.18);
}

/* Komunikaty bÅ‚Ä™dÃ³w pod polami */
.form__error {
  margin: 0; font-size: .9rem; color: var(--error);
  min-height: 1.2em;
}
.form__error:empty { display: none; }

/* Globalny bÅ‚Ä…d â€“ neonowa ramka, tylko gdy ma treÅ›Ä‡ */
.form__error--global {
  display: none; padding: 10px 12px; border-radius: 14px;
  background: linear-gradient(180deg, rgba(255,77,109,.10), rgba(255,77,109,.06));
  border: 1px solid color-mix(in oklab, var(--error) 45%, transparent);
  box-shadow: 0 8px 26px rgba(255,77,109,.16);
}
.form__error--global:not(:empty) { display: block; }

/* Checkbox + akcje */
.form__row--inline { display: flex; align-items: center; gap: 12px; }
.checkbox input { margin-right: 8px; accent-color: color-mix(in oklab, var(--primary) 65%, var(--primary-2) 35%); }

.form__actions { display: grid; gap: 12px; }

/* Przyciski â€“ neon glossy */


@media (hover:hover) {
  .btn--primary:hover { filter: brightness(1.05); box-shadow: 0 16px 34px rgba(124,58,237,.40), 0 8px 22px rgba(6,182,212,.32); }
}
.btn--primary:active { transform: translateY(1px); }
.btn--primary:focus-visible { outline: none; box-shadow: var(--focus); }
.btn[disabled] { opacity: .65; cursor: not-allowed; box-shadow: none; }

/* PodpowiedÅº gestu */
.auth__hint {
  text-align: center; color: var(--muted);
  padding: 12px 16px 16px; font-size: .95rem;
}

/* Stopka */
.auth__footer {
  display: grid; grid-auto-flow: column; place-content: center; gap: 8px;
  padding: 22px 12px 34px; color: var(--muted);
}
.auth__footer-icon { width: 18px; height: 18px; filter: grayscale(100%); opacity: .9; }

/* ---------- ResponsywnoÅ›Ä‡ ---------- */
@media (max-width: 780px) {
  .auth__card { margin-top: 8px; border-radius: 16px; }
}
@media (max-width: 640px) {
  .auth { padding: 16px 8px 8px; }
  .auth__card { border-radius: 0; border-left: 0; border-right: 0; }
  .auth__panel { padding: 20px 16px 18px; }
  .auth__logo { height: 50px; }
}

/* Dodatkowe dopieszczenie dla bardzo wÄ…skich ekranÃ³w */
@media (max-width: 360px) {
  .nawigacja__label { display: none; }          /* tylko ikony */
  .nawigacja__btn { grid-template-rows: 1fr; }  /* wiÄ™kszy hit area */
}

/* =========================================================
   LIGHT MODE â€” jasne tÅ‚o + delikatny neonowy gradient
   (podmieÅ„ same zmienne i pattern siatki)
   ========================================================= */
html[data-theme="light"] {
  /* Kolory bazowe (juÅ¼ masz) */
  --bg: #f7f8fc;
  --fg: #0f172a;
  --muted: #5b6477;

  /* SzkÅ‚o / karty (jaÅ›niejsze) */
  --card: rgba(255, 255, 255, .78);
  --card-strong: rgba(255, 255, 255, .94);
  --border: rgba(0, 0, 0, .08);
  --shadow: 0 18px 48px rgba(16, 24, 40, .12);

  /* PoÅ›wiaty i fokus */
  --glow-primary: 0 0 24px rgba(124, 58, 237, .35), 0 0 56px rgba(6, 182, 212, .22);
  --focus: 0 0 0 3px rgba(124, 58, 237, .25), 0 0 0 6px rgba(6, 182, 212, .16);

  /* >>> NOWE: jasny gradient tÅ‚a <<< */
  --bg-grad:
    radial-gradient(1200px 800px at 12% -8%, rgba(124, 58, 237, .16), transparent 55%),
    radial-gradient(1000px 700px at 108% 8%, rgba(6, 182, 212, .14), transparent 55%),
    linear-gradient(180deg, #ffffff, #eef3ff);
}

/* GÅ‚adka animacja zmiany motywu (opcjonalnie) */
html, body { transition: background-color .35s ease, background-image .35s ease; }

/* Pattern siatki na jasnym â€” jaÅ›niejszy, subtelny */
html[data-theme="light"] body::before {
  background-image:
    linear-gradient(rgba(0,0,0,.03) 1px, transparent 1px),
    linear-gradient(90deg, rgba(0,0,0,.03) 1px, transparent 1px);
}

/* Upewnij siÄ™, Å¼e body uÅ¼ywa gradientu ze zmiennych */
body {
  background: var(--bg-grad);
  background-color: var(--bg); /* fallback */
}

/* =========================================================
   Tekst przyciskÃ³w gÅ‚Ã³wnych (Zaloguj / ZaÅ‚Ã³Å¼ konto) â€“ zawsze biaÅ‚y
   ========================================================= */
.btn--primary {
  color: #ffffff !important;   /* wymuszamy biaÅ‚y tekst */
}


/* =========================================================
   Jasny tryb â€“ poprawa czytelnoÅ›ci aktywnej zakÅ‚adki
   ========================================================= */
html[data-theme="light"] .auth__tab.is-active {
  color: #000; /* ciemny tekst */
  -webkit-text-stroke: 0.6px rgba(255,255,255,0.6); /* subtelny biaÅ‚y stroke */
  text-shadow:
    0 0 1px rgba(255,255,255,0.6),
    0 0 4px rgba(0,0,0,0.05); /* delikatny kontrast */
}


/* =========================================================
   Jasny tryb â€“ poprawiony hover dla przyciskÃ³w
   ========================================================= */
html[data-theme="light"] .btn--primary {
  background: linear-gradient(135deg, var(--primary), var(--primary-2));
  color: #ffffff; /* zawsze biaÅ‚y tekst */
  box-shadow: 0 6px 14px rgba(0,0,0,.12);
}

html[data-theme="light"] .btn--primary:hover {
  filter: brightness(0.95);
  box-shadow:
    0 8px 20px rgba(124, 58, 237, .35),
    0 4px 12px rgba(6, 182, 212, .28),
    inset 0 0 0 1px rgba(0,0,0,.06);
}


/* =========================================================
   LIGHT MODE â€” poprawiona czytelnoÅ›Ä‡ zakÅ‚adek (tabs)
   ========================================================= */

/* jaÅ›niejszy, ale solidny pasek tÅ‚a pod zakÅ‚adkami */
html[data-theme="light"] .auth__tabs {
  background: linear-gradient(180deg, #ffffff, #f4f7ff);
  border-bottom: 1px solid rgba(0,0,0,.06);
}

/* kolor bazowy dla nieaktywnej zakÅ‚adki + kontrast */
html[data-theme="light"] .auth__tab {
  color: #475569; /* slate-600 */
  text-shadow: none;
}

/* hover: delikatne przyciemnienie i obrys */
@media (hover:hover) {
  html[data-theme="light"] .auth__tab:hover {
    color: #1f2937; /* slate-800 */
    background: rgba(15, 23, 42, .04);
    box-shadow: inset 0 -1px 0 rgba(0,0,0,.06);
  }
}

/* aktywna: biaÅ‚e tÅ‚o, wyraÅºny tekst, cienka ramka i neonowa kreska */
html[data-theme="light"] .auth__tab.is-active {
  color: #0f172a; /* slate-900 */
  background: #ffffff;
  box-shadow:
    inset 0 -2px 0 color-mix(in oklab, var(--primary) 70%, var(--primary-2) 30%),
    0 1px 0 rgba(255,255,255,.8);
  border-bottom: 0; /* border zastÄ™puje box-shadow wyÅ¼ej */
  -webkit-text-stroke: 0;            /* bez obrysu */
  text-shadow: 0 1px 0 rgba(255,255,255,.7); /* subtelny kontrast */
  position: relative;
}

/* dodatkowy pasek â€underlineâ€ z gradientem â€” czytelny na jasnym */
html[data-theme="light"] .auth__tab.is-active::after {
  content: "";
  position: absolute;
  left: 10%; right: 10%; bottom: -1px; height: 3px;
  border-radius: 999px;
  background: linear-gradient(90deg, var(--primary-2), var(--primary));
}

/* dla bardzo jasnych teÅ‚ w karcie podbij delikatnie gÃ³rny gradient */
html[data-theme="light"] .auth__card {
  background: linear-gradient(180deg, rgba(255,255,255,.96), rgba(255,255,255,.88));
  border: 1px solid rgba(0,0,0,.06);
}

/* ======== TORRENTS + QUEUE (neon glossy) ======== */

.tbar {
  display: grid;
  grid-template-columns: 1fr auto;
  gap: 12px;
  margin: 8px auto 16px;
  max-width: 1200px;
  padding: 12px 14px;
  background: linear-gradient(180deg, var(--card-strong), var(--card));
  border: 1px solid var(--border);
  border-radius: var(--radius);
  box-shadow: var(--shadow), inset 0 1px 0 rgba(255,255,255,.06);
  backdrop-filter: blur(16px) saturate(130%);
  -webkit-backdrop-filter: blur(16px) saturate(130%);
}
.tbar__left { display: flex; gap: 12px; align-items: center; flex-wrap: wrap; }
.tbar__right { display: flex; align-items: center; justify-content: flex-end; font-weight: 700; color: var(--muted); }

.tbar__field { display: grid; gap: 6px; }
.tbar__label { font-weight: 700; color: color-mix(in oklab, var(--fg) 86%, #fff 14%); font-size: .9rem; }
.tbar__select {
  appearance: none;
  border: 1px solid var(--border);
  background: linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
  color: var(--fg);
  padding: 10px 12px;
  border-radius: 12px;
  min-width: 220px;
  box-shadow: inset 0 2px 8px rgba(0,0,0,.15);
}
.tbar__btn { white-space: nowrap; }

.tbar__agg { font-size: .95rem; }

.tgrid {
  display: grid;
  grid-template-columns: 1.3fr .9fr;
  gap: 16px;
  max-width: 1200px;
  margin: 0 auto 90px;
}
@media (max-width: 980px) { .tgrid { grid-template-columns: 1fr; } }
.tcol__title { margin: 0 6px 8px; font-size: 1.05rem; color: var(--muted); }

.empty {
  margin: 10px 6px;
  padding: 14px 12px;
  border-radius: 12px;
  background: linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
  border: 1px solid var(--border);
  color: var(--muted);
}

/* Lista torrentÃ³w */
.tlist { display: grid; gap: 12px; }
.tcard {
  display: grid;
  grid-template-columns: 92px 1fr auto;
  gap: 12px;
  padding: 12px;
  border: 1px solid var(--border);
  border-radius: 16px;
  background: linear-gradient(180deg, var(--card-strong), var(--card));
  box-shadow: var(--shadow), inset 0 1px 0 rgba(255,255,255,.06);
}
@media (max-width: 560px) {
  .tcard { grid-template-columns: 72px 1fr; grid-template-rows: auto auto; }
  .tcard__actions { grid-column: 1 / -1; justify-content: flex-end; }
}

.tcard__img {
  width: 100%; height: 132px; object-fit: cover; border-radius: 12px;
  background: #0b1220; border: 1px solid var(--border);
}
@media (max-width: 560px) { .tcard__img { height: 108px; } }

.tcard__title { margin: 0 0 4px; font-size: 1rem; font-weight: 800; letter-spacing: .2px; }
.tcard__meta { font-size: .9rem; color: var(--muted); margin-bottom: 8px; display: flex; gap: 10px; flex-wrap: wrap; }

.progress {
  width: 100%;
  height: 12px;
  border-radius: 999px;
  background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.04));
  border: 1px solid var(--border);
  overflow: hidden;
}
.progress__bar {
  height: 100%;
  width: 0%;
  border-radius: 999px;
  background: linear-gradient(90deg, var(--primary-2), var(--primary));
  box-shadow: var(--glow-primary);
  transition: width .35s ease;
}
.progress__label { font-size: .85rem; color: var(--muted); margin-top: 6px; }

.tbadge {
  display: inline-flex; align-items: center; gap: 6px;
  padding: 4px 8px; border-radius: 999px; font-size: .85rem; font-weight: 700;
  background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.04));
  border: 1px solid var(--border);
}
.tbadge__dot { width: 8px; height: 8px; border-radius: 999px; background: var(--primary); box-shadow: var(--glow-soft); }

.tcard__actions { display: flex; gap: 8px; align-items: center; }
.btn--ghost {
  border: 1px solid var(--border);
  background: linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
  color: var(--fg);
}
.btn--danger {
  background: linear-gradient(135deg, #ff4d6d, #ff7a8d);
  color: #fff;
  box-shadow: 0 12px 24px rgba(255,77,109,.25);
}

/* Kolejka */
.qlist { display: grid; gap: 12px; }
.qcard {
  display: grid;
  grid-template-columns: 64px 1fr auto;
  gap: 10px;
  padding: 10px;
  border: 1px solid var(--border);
  border-radius: 14px;
  background: linear-gradient(180deg, var(--card-strong), var(--card));
  box-shadow: var(--shadow), inset 0 1px 0 rgba(255,255,255,.06);
}
.qcard__img { width: 64px; height: 96px; object-fit: cover; border-radius: 10px; border: 1px solid var(--border); }
.qcard__title { margin: 0 0 4px; font-weight: 800; font-size: .98rem; }
.qcard__meta { font-size: .85rem; color: var(--muted); }
.qcard__actions { display: flex; gap: 8px; align-items: center; }

/* ===== Sticky header dla sekcji torrentÃ³w ===== */
.tsticky {
  position: sticky; top: 0; z-index: 50;
  padding: 8px 6px 6px;
  background: linear-gradient(180deg, var(--card-strong), color-mix(in oklab, var(--card) 75%, transparent));
  border-bottom: 1px solid var(--border);
  backdrop-filter: blur(16px) saturate(130%);
  -webkit-backdrop-filter: blur(16px) saturate(130%);
}
.tsticky__row {
  max-width: 1200px; margin: 0 auto 8px;
  display: grid; grid-template-columns: 1fr auto 1fr; align-items: center;
}
.tsticky__logo { height: 34px; justify-self: center; filter: drop-shadow(0 6px 14px rgba(0,0,0,.25)); }
.tsticky__tabs {
  grid-column: 2 / 3; justify-self: center;
  display: inline-flex; gap: 6px; padding: 4px; border-radius: 999px;
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
  border: 1px solid var(--border);
}
.tsticky__tab {
  appearance: none; border: 0; cursor: pointer; padding: 8px 14px; border-radius: 999px;
  background: transparent; color: var(--muted); font-weight: 800;
}
.tsticky__tab.is-active {
  color: #fff;
  background: linear-gradient(135deg, var(--primary), var(--primary-2));
  box-shadow: 0 8px 20px rgba(124,58,237,.28), 0 4px 12px rgba(6,182,212,.22);
}

.tlimit__feedback { max-width: 1200px; margin: 6px auto 0; font-size: .9rem; color: var(--muted); }

/* jeden sÅ‚upek pod sticky */
.tgrid--one { max-width: 1200px; margin: 10px auto 90px; }

/* (reszta styli z poprzedniej wersji: tbar, tlist, tcard, qlist, qcard itd. â€” zostaw bez zmian) */

/* ===== Sticky pasek z samymi tabami ===== */
.tsticky {
  position: sticky; top: 0; z-index: 50;
  padding: 8px 6px;
  background: linear-gradient(180deg, var(--card-strong), color-mix(in oklab, var(--card) 75%, transparent));
  border-bottom: 1px solid var(--border);
  backdrop-filter: blur(16px) saturate(130%);
  -webkit-backdrop-filter: blur(16px) saturate(130%);
}
.tsticky__tabs {
  display: inline-flex; gap: 6px; padding: 4px; border-radius: 999px;
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
  border: 1px solid var(--border);
  margin: 0 auto; display: flex; justify-content: center;
}
.tsticky__tab {
  appearance: none; border: 0; cursor: pointer; padding: 8px 14px; border-radius: 999px;
  background: transparent; color: var(--muted); font-weight: 800;
}
.tsticky__tab.is-active {
  color: #fff;
  background: linear-gradient(135deg, var(--primary), var(--primary-2));
  box-shadow: 0 8px 20px rgba(124,58,237,.28), 0 4px 12px rgba(6,182,212,.22);
}

/* kontener */
.tgrid--one { max-width: 1200px; margin: 10px auto 90px; }

/* pasek narzÄ™dzi sekcji */
.tbar {
  display: flex; align-items: center; justify-content: space-between;
  gap: 12px; margin: 10px 6px 8px;
}
.tbar__left { display: flex; flex-wrap: wrap; gap: 10px 12px; align-items: center; }
.tbar__right{ color: var(--muted); font-weight: 700; }
.tbar__field { display: grid; gap: 4px; }
.tbar__label { font-size: .85rem; color: var(--muted); }

/* SELECT â€“ ciemny motyw czytelny */
.tbar__select {
  appearance: none;
  padding: 10px 12px; border-radius: 12px;
  border: 1px solid var(--border);
  background:
    linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02));
  color: var(--fg);
  box-shadow: inset 0 2px 8px rgba(0,0,0,.15);
}
html[data-theme="light"] .tbar__select {
  background: #fff; color: #0f172a; border-color: rgba(0,0,0,.08);
}
.tbar__select:focus-visible { outline: none; box-shadow: var(--focus); }

/* feedback limitu */
.tlimit__feedback { margin: 6px 6px 0; font-size: .9rem; color: var(--muted); }

/* listy */
.tlist, .qlist { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 12px; padding: 8px 6px; }
.empty { text-align: center; color: var(--muted); padding: 16px; }

/* karta torrenta */
.tcard {
  display: grid; grid-template-columns: 96px 1fr auto; gap: 10px; align-items: start;
  background: linear-gradient(180deg, var(--card-strong), var(--card));
  border: 1px solid var(--border); border-radius: 16px; padding: 10px;
  box-shadow: var(--shadow), inset 0 1px 0 rgba(255,255,255,.06);
}
.tcard__img {
  width: 96px; height: 144px; border-radius: 12px; object-fit: cover;
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
}
.tcard__body { display: grid; gap: 6px; }
.tcard__title { margin: 0; font-size: 1rem; }
.tcard__meta { display: flex; flex-wrap: wrap; gap: 10px; color: var(--muted); font-size: .9rem; }
.progress { height: 8px; background: rgba(255,255,255,.08); border-radius: 999px; overflow: hidden; }
.progress__bar { height: 100%; background: linear-gradient(90deg, var(--primary-2), var(--primary)); }
.progress__label { font-size: .85rem; color: var(--muted); }
.tcard__actions { display: grid; gap: 6px; align-content: start; }
.btn--ghost {
  background: transparent; border: 1px solid var(--border); color: var(--fg);
  padding: 8px 10px; border-radius: 10px; cursor: pointer;
}
.btn--danger {
  background: linear-gradient(135deg, #ef4444, #f43f5e);
  color: #fff; border: 0; padding: 8px 10px; border-radius: 10px; cursor: pointer;
}

/* badge stanu */
.tbadge { display: inline-grid; grid-auto-flow: column; gap: 6px; align-items: center; }
.tbadge__dot { width: 8px; height: 8px; border-radius: 999px; background: var(--warning); display: inline-block; }
.tbadge--ok .tbadge__dot { background: var(--success); }

/* karta kolejki */
.qcard {
  display: grid; grid-template-columns: 96px 1fr auto; gap: 10px; align-items: start;
  background: linear-gradient(180deg, var(--card-strong), var(--card));
  border: 1px solid var(--border); border-radius: 16px; padding: 10px;
  box-shadow: var(--shadow), inset 0 1px 0 rgba(255,255,255,.06);
}
.qcard__img { width: 96px; height: 144px; object-fit: cover; border-radius: 12px; background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02)); }
.qcard__title { margin: 0; font-size: 1rem; }
.qcard__meta { color: var(--muted); font-size: .9rem; }
.qcard__actions { display: grid; gap: 6px; align-content: start; }

/* stan aktualizacji â€“ bez migania */
.tlist.updating, .qlist.updating { opacity: .92; transition: opacity .12s ease; }

.tgrid--container {
  max-width: 1340px;
  margin: 0 auto;
  padding: 0 12px;
  display: flex;
  flex-direction: column;
  align-items: center;   /* caÅ‚oÅ›Ä‡ wyÅ›rodkowana */
}

/* Sticky tabs (bez niczego wiÄ™cej u gÃ³ry) */
.tsticky { position: sticky; top: 0; z-index: 60; padding: 8px 6px;
  background: linear-gradient(180deg, var(--card-strong), color-mix(in oklab, var(--card) 75%, transparent));
  border-bottom: 1px solid var(--border); backdrop-filter: blur(16px) saturate(130%); -webkit-backdrop-filter: blur(16px) saturate(130%);
}
.tsticky__tabs { display: flex; justify-content: center; gap: 6px; padding: 4px; margin: 0 auto;
  border-radius: 999px; border: 1px solid var(--border);
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
}
.tsticky__tab { appearance: none; border: 0; cursor: pointer; padding: 10px 16px; border-radius: 999px;
  background: transparent; color: var(--muted); font-weight: 800;
}
.tsticky__tab.is-active { color:#fff; background: linear-gradient(135deg, var(--primary), var(--primary-2));
  box-shadow: 0 8px 20px rgba(124,58,237,.28), 0 4px 12px rgba(6,182,212,.22);
}

/* Pasek narzÄ™dzi */
.tbar { display:flex; align-items:center; justify-content:space-between; gap:12px; margin: 12px 6px 8px; }
.tbar__left { display:flex; flex-wrap:wrap; align-items:center; gap:12px; }
.tbar__right { color:var(--muted); font-weight:700; }
.tbar__field { display:grid; gap:4px; }
.tbar__label { font-size:.85rem; color:var(--muted); }

/* Selecty â€“ ciemny i jasny czytelny */
.tbar__select { appearance:none; padding:12px 14px; border-radius:12px; border:1px solid var(--border);
  background: linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02));
  color:var(--fg); box-shadow: inset 0 2px 8px rgba(0,0,0,.15);
}
.tbar__select:focus-visible { outline:none; box-shadow: var(--focus); }
html[data-theme="light"] .tbar__select { background:#fff; color:#0f172a; border-color: rgba(0,0,0,.08); }

/* Feedback */
.tlimit__feedback { margin:6px 6px 0; font-size:.95rem; color:var(--muted); }

/* listy kart */
.tlist,
.qlist {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
  gap: 16px;
  justify-content: center;   /* ğŸ”‘ to centruje kafelki */
  width: 100%;
  max-width: 1100px;         /* moÅ¼esz dopasowaÄ‡ do gustu */
}
.empty { text-align:center; color:var(--muted); padding:18px; }

/* Karta (wycentrowana zawartoÅ›Ä‡ kolumny) */
.tcard, .qcard {
  display:grid; grid-template-columns: 120px 1fr auto; gap:14px; align-items:center;
  background: linear-gradient(180deg, var(--card-strong), var(--card));
  border:1px solid var(--border); border-radius:18px; padding:14px;
  box-shadow: var(--shadow), inset 0 1px 0 rgba(255,255,255,.06);
}
.tcard__img, .qcard__img { width:120px; height:180px; border-radius:14px; object-fit:cover;
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
}
.tcard__body { display:grid; gap:8px; align-content:center; }
.tcard__title, .qcard__title { margin:0; font-size:1.05rem; line-height:1.25; }
.tcard__meta, .qcard__meta { display:flex; flex-wrap:wrap; gap:10px; color:var(--muted); font-size:.95rem; }

.progress { height:10px; background: rgba(255,255,255,.08); border-radius:999px; overflow:hidden; }
.progress__bar { height:100%; background: linear-gradient(90deg, var(--primary-2), var(--primary)); }
.progress__label { font-size:.9rem; color:var(--muted); }

.tcard__actions, .qcard__actions { display:grid; gap:8px; align-content:center; }
.btn--ghost { background:transparent; border:1px solid var(--border); color:var(--fg); padding:9px 12px; border-radius:12px; cursor:pointer; }
.btn--danger { background: linear-gradient(135deg,#ef4444,#f43f5e); color:#fff; border:0; padding:9px 12px; border-radius:12px; cursor:pointer; }

/* Badge stanu */
.tbadge { display:inline-grid; grid-auto-flow:column; gap:6px; align-items:center; }
.tbadge__dot { width:10px; height:10px; border-radius:999px; background: var(--warning); }
.tbadge--ok .tbadge__dot { background: var(--success); }

/* Subtelny stan aktualizacji â€“ bez â€bÅ‚yskuâ€ */
.tlist.updating, .qlist.updating { opacity:.96; transition: opacity .12s ease; }

/* Mniejsze ekrany */
@media (max-width: 560px){
  .tcard, .qcard { grid-template-columns: 96px 1fr; }
  .tcard__actions, .qcard__actions { grid-column: 1 / -1; grid-auto-flow: column; justify-content: end; }
}


/* =============== LAYOUT: kontener + sticky bar =============== */
.tgrid--container{
  max-width: 1100px;
  margin: 0 auto;
  padding: 8px 12px 100px;
  display: flex;
  flex-direction: column;
  align-items: center;
}
.tbar{
  width: 100%;
  max-width: 1000px;
  margin: 10px auto;
  display: flex;
  align-items: center;
  gap: 12px;
  background: linear-gradient(180deg, var(--card-strong), var(--card));
  border: 1px solid var(--border);
  border-radius: 14px;
  box-shadow: var(--shadow), inset 0 1px 0 rgba(255,255,255,.06);
  padding: 10px 12px;
}
.tbar--sticky{
  position: sticky; top: 8px; z-index: 50;
  backdrop-filter: blur(16px) saturate(130%);
  -webkit-backdrop-filter: blur(16px) saturate(130%);
}
.tbar__brand{ display:flex; align-items:center; justify-content:center; flex: 1; }
.tbar__logo{ height: 34px; object-fit: contain; filter: drop-shadow(0 4px 12px rgba(0,0,0,.35)); }

.tbar__tabs{
  display: inline-flex; gap: 6px;
  background: linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02));
  border: 1px solid var(--border);
  border-radius: 999px;
  padding: 4px;
}
.tbar__tab{
  appearance: none; border:0; cursor:pointer;
  color: var(--muted); font-weight:800; padding:8px 14px; border-radius:999px;
  background: transparent;
}
.tbar__tab.is-active{
  color:#fff; background: linear-gradient(135deg, var(--primary), var(--primary-2));
  box-shadow: var(--glow-soft);
}

.tbar--tools{ justify-content: space-between; }
.tbar__group{ display:flex; align-items:center; gap:8px; }
.tbar__label{ font-weight:700; color: color-mix(in oklab, var(--fg) 86%, #fff 14%); }
.tbar__hint{ font-size:.9rem; color:var(--muted); }
.tbar__spacer{ flex:1; }

/* =============== SELECT (dark mode czytelny) =============== */
.select{
  appearance: none;
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
  color: var(--fg);
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 10px 14px;
}
html[data-theme="dark"] .select{
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
  color: var(--fg);
}
html[data-theme="light"] .select{
  background: #fff;
  color: #0f172a;
  border-color: rgba(0,0,0,.08);
}

/* =============== LISTY =============== */
.tlist, .qlist{
  display: grid;
  gap: 12px;
  justify-content: center;
  width: 100%;
  max-width: 1000px;
}

/* â€”â€”â€” Torrenty: karty peÅ‚nej szerokoÅ›ci, bez posterÃ³w â€”â€”â€” */
.tcard{
  display: grid;
  grid-template-columns: 1fr auto;
  gap: 10px;
  padding: 14px;
  background: linear-gradient(180deg, var(--card-strong), var(--card));
  border: 1px solid var(--border);
  border-radius: 16px;
  box-shadow: var(--shadow), inset 0 1px 0 rgba(255,255,255,.05);
}
.tcard__left{ display:flex; flex-direction:column; gap:8px; }
.tcard__title{ font-weight:800; font-size:1.05rem; }
.tcard__meta{ display:flex; gap:12px; color:var(--muted); font-size:.95rem; }

.tcard__progress{
  width:100%; height: 12px; border-radius: 999px;
  background: rgba(255,255,255,.08); overflow: hidden; position: relative;
  border: 1px solid var(--border);
}
.tcard__bar{
  position:absolute; left:0; top:0; height:100%;
  width:0%;
  background: linear-gradient(90deg, var(--primary-2), var(--primary));
  box-shadow: var(--glow-soft);
}
.tcard__right{ display:flex; align-items:center; gap:8px; }

.tbtn{
  appearance:none; border:0; border-radius: 12px;
  padding:8px 12px; font-weight:800; cursor:pointer;
  background: linear-gradient(135deg, var(--primary), var(--primary-2)); color:#fff;
}
.tbtn--ghost{
  background: transparent; color: var(--fg);
  border:1px solid var(--border);
}
.tbtn--danger{
  background: linear-gradient(135deg, #ef4444, #b91c1c);
  color:#fff;
}

/* â€”â€”â€” Kolejka: kafel z obrazkiem â€”â€”â€” */
.qcard{
  display: grid;
  grid-template-columns: 96px 1fr auto;
  gap: 12px;
  padding: 12px;
  background: linear-gradient(180deg, var(--card-strong), var(--card));
  border: 1px solid var(--border);
  border-radius: 16px;
  box-shadow: var(--shadow), inset 0 1px 0 rgba(255,255,255,.05);
}
.qcard__img{
  width: 96px; height: 144px; object-fit: cover;
  border-radius: 10px; border:1px solid var(--border);
  background: #111;
}
.qcard__title{ font-weight:800; margin-bottom:6px; }
.qcard__meta{ color:var(--muted); font-size:.95rem; }
.qcard__right{ display:flex; align-items:center; gap:8px; }

/* responsywnoÅ›Ä‡ */
@media (max-width: 640px){
  .qcard{ grid-template-columns: 70px 1fr; }
  .qcard__right{ grid-column: 1 / -1; justify-content: flex-end; }
}

/* ====== Kontener i sticky pasek ====== */
.tx-container{
  max-width: 1100px;
  margin: 0 auto;
  padding: 10px 12px 100px;
  display: flex;
  flex-direction: column;
  align-items: center; /* wyÅ›rodkowanie */
}
.tx-stickybar{
  width: 100%;
  max-width: 1000px;
  display: flex; align-items: center; justify-content: space-between; gap: 12px;
  position: sticky; top: 8px; z-index: 40;
  padding: 10px 12px;
  background: linear-gradient(180deg, var(--card-strong), var(--card));
  border: 1px solid var(--border);
  border-radius: 14px;
  box-shadow: var(--shadow), inset 0 1px 0 rgba(255,255,255,.06);
  backdrop-filter: blur(16px) saturate(130%);
  -webkit-backdrop-filter: blur(16px) saturate(130%);
}
.tx-brand{ flex:1; display:flex; justify-content:center; }
.tx-logo{ height: 34px; object-fit: contain; filter: drop-shadow(0 4px 12px rgba(0,0,0,.35)); }

.tx-tabs{
  display: inline-flex; gap: 6px;
  background: linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02));
  border: 1px solid var(--border);
  border-radius: 999px;
  padding: 4px;
}
.tx-tab{
  appearance:none; border:0; cursor:pointer;
  color: var(--muted); font-weight:800; padding:8px 14px; border-radius:999px;
  background: transparent;
}
.tx-tab.is-active{
  color:#fff; background: linear-gradient(135deg, var(--primary), var(--primary-2));
  box-shadow: var(--glow-soft);
}

/* ====== Toolbary ====== */
.tx-toolbar{
  width: 100%; max-width: 1000px;
  margin: 10px auto;
  display:flex; align-items:center; gap: 12px; justify-content: space-between;
  background: linear-gradient(180deg, var(--card-strong), var(--card));
  border: 1px solid var(--border);
  border-radius: 14px;
  box-shadow: var(--shadow), inset 0 1px 0 rgba(255,255,255,.06);
  padding: 10px 12px;
}
.tx-group{ display:flex; align-items:center; gap: 8px; }
.tx-label{ font-weight:700; color: color-mix(in oklab, var(--fg) 86%, #fff 14%); }
.tx-hint{ font-size:.9rem; color: var(--muted); }

/* Select â€“ dark i light czytelny */
.select{
  appearance:none;
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
  color: var(--fg);
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 10px 14px;
}
html[data-theme="light"] .select{
  background: #fff; color: #0f172a; border-color: rgba(0,0,0,.08);
}

/* ====== Listy ====== */
.tx-list{
  width: 100%; max-width: 1000px;
  display: grid; gap: 12px; justify-content: center;
}

/* ====== Karta torrentu â€“ bez posterÃ³w ====== */
.tcard{
  display:grid; grid-template-columns: 1fr auto; gap: 10px;
  padding: 14px;
  background: linear-gradient(180deg, var(--card-strong), var(--card));
  border: 1px solid var(--border);
  border-radius: 16px;
  box-shadow: var(--shadow), inset 0 1px 0 rgba(255,255,255,.05);
}
.tcard__left{ display:flex; flex-direction:column; gap:8px; }
.tcard__title{ font-weight:800; font-size:1.05rem; }
.tcard__meta{ display:flex; gap:12px; color:var(--muted); font-size:.95rem; }

.tcard__progress{
  width:100%; height: 12px; border-radius: 999px;
  background: rgba(255,255,255,.08); overflow: hidden; position: relative;
  border: 1px solid var(--border);
}
.tcard__bar{
  position:absolute; left:0; top:0; height:100%; width:0%;
  background: linear-gradient(90deg, var(--primary-2), var(--primary));
  box-shadow: var(--glow-soft);
}
.tcard__right{ display:flex; align-items:center; gap:8px; flex-wrap: wrap; }

.tbtn{
  appearance:none; border:0; border-radius: 12px;
  padding:8px 12px; font-weight:800; cursor:pointer;
  background: linear-gradient(135deg, var(--primary), var(--primary-2)); color:#fff;
}
.tbtn--ghost{ background: transparent; color: var(--fg); border:1px solid var(--border); }
.tbtn--danger{ background: linear-gradient(135deg, #ef4444, #b91c1c); color:#fff; }

/* ====== Karta kolejki ====== */
.qcard{
  display:grid; grid-template-columns: 96px 1fr auto; gap: 12px;
  padding: 12px;
  background: linear-gradient(180deg, var(--card-strong), var(--card));
  border: 1px solid var(--border);
  border-radius: 16px;
  box-shadow: var(--shadow), inset 0 1px 0 rgba(255,255,255,.05);
}
.qcard__img{
  width:96px; height:144px; object-fit:cover;
  border-radius: 10px; border:1px solid var(--border);
  background:#111;
}
.qcard__title{ font-weight:800; margin-bottom:6px; }
.qcard__meta{ color:var(--muted); font-size:.95rem; }
.qcard__right{ display:flex; align-items:center; gap:8px; }

@media (max-width: 640px){
  .qcard{ grid-template-columns: 70px 1fr; }
  .qcard__right{ grid-column: 1 / -1; justify-content: flex-end; }
}

/* ====== Kontener i sticky pasek ====== */
.tx-container{
  max-width: 1100px;
  margin: 0 auto;
  padding: 10px 12px 100px;
  display: flex;
  flex-direction: column;
  align-items: center; /* wyÅ›rodkowanie caÅ‚oÅ›ci */
}
.tx-stickybar{
  width: 100%;
  max-width: 1000px;
  display: flex; align-items: center; justify-content: space-between; gap: 12px;
  position: sticky; top: 8px; z-index: 40;
  padding: 10px 12px;
  background: linear-gradient(180deg, var(--card-strong), var(--card));
  border: 1px solid var(--border);
  border-radius: 14px;
  box-shadow: var(--shadow), inset 0 1px 0 rgba(255,255,255,.06);
  backdrop-filter: blur(16px) saturate(130%);
  -webkit-backdrop-filter: blur(16px) saturate(130%);
}
.tx-brand{ flex:1; display:flex; justify-content:center; }
.tx-logo{ height: 34px; object-fit: contain; filter: drop-shadow(0 4px 12px rgba(0,0,0,.35)); }

.tx-tabs{
  display: inline-flex; gap: 6px;
  background: linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02));
  border: 1px solid var(--border);
  border-radius: 999px;
  padding: 4px;
}
.tx-tab{
  appearance:none; border:0; cursor:pointer;
  color: var(--muted); font-weight:800; padding:8px 14px; border-radius:999px;
  background: transparent;
}
.tx-tab.is-active{
  color:#fff; background: linear-gradient(135deg, var(--primary), var(--primary-2));
  box-shadow: var(--glow-soft);
}

/* ====== Toolbary ====== */
.tx-toolbar{
  width: 100%; max-width: 1000px;
  margin: 10px auto;
  display:flex; align-items:center; gap: 12px; justify-content: space-between;
  background: linear-gradient(180deg, var(--card-strong), var(--card));
  border: 1px solid var(--border);
  border-radius: 14px;
  box-shadow: var(--shadow), inset 0 1px 0 rgba(255,255,255,.06);
  padding: 10px 12px;
}
.tx-group{ display:flex; align-items:center; gap: 8px; }
.tx-label{ font-weight:700; color: color-mix(in oklab, var(--fg) 86%, #fff 14%); }
.tx-hint{ font-size:.9rem; color: var(--muted); }

/* Select â€“ dark i light czytelny */
.select{
  appearance:none;
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
  color: var(--fg);
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 10px 14px;
}
html[data-theme="light"] .select{
  background: #fff; color: #0f172a; border-color: rgba(0,0,0,.08);
}

/* ====== Listy ====== */
.tx-list{
  width: 100%; max-width: 1000px;
  display: grid; gap: 12px; justify-content: center;
}
.tx-empty{
  opacity:.8; text-align:center; padding: 20px 10px; color: var(--muted);
}

/* ====== Karta torrentu â€“ bez posterÃ³w ====== */
.tcard{
  display:grid; grid-template-columns: 1fr auto; gap: 10px;
  padding: 14px;
  background: linear-gradient(180deg, var(--card-strong), var(--card));
  border: 1px solid var(--border);
  border-radius: 16px;
  box-shadow: var(--shadow), inset 0 1px 0 rgba(255,255,255,.05);
}
.tcard__left{ display:flex; flex-direction:column; gap:8px; }
.tcard__title{ font-weight:800; font-size:1.05rem; }
.tcard__meta{ display:flex; gap:12px; color:var(--muted); font-size:.95rem; }

.tcard__progress{
  width:100%; height: 12px; border-radius: 999px;
  background: rgba(255,255,255,.08); overflow: hidden; position: relative;
  border: 1px solid var(--border);
}
.tcard__bar{
  position:absolute; left:0; top:0; height:100%; width:0%;
  background: linear-gradient(90deg, var(--primary-2), var(--primary));
  box-shadow: var(--glow-soft);
}
.tcard__right{ display:flex; align-items:center; gap:8px; flex-wrap: wrap; }

.tbtn{
  appearance:none; border:0; border-radius: 12px;
  padding:8px 12px; font-weight:800; cursor:pointer;
  background: linear-gradient(135deg, var(--primary), var(--primary-2)); color:#fff;
}
.tbtn--ghost{ background: transparent; color: var(--fg); border:1px solid var(--border); }
.tbtn--danger{ background: linear-gradient(135deg, #ef4444, #b91c1c); color:#fff; }

/* ====== Karta kolejki ====== */
.qcard{
  display:grid; grid-template-columns: 96px 1fr auto; gap: 12px;
  padding: 12px;
  background: linear-gradient(180deg, var(--card-strong), var(--card));
  border: 1px solid var(--border);
  border-radius: 16px;
  box-shadow: var(--shadow), inset 0 1px 0 rgba(255,255,255,.05);
}
.qcard__img{
  width:96px; height:144px; object-fit:cover;
  border-radius: 10px; border:1px solid var(--border);
  background:#111;
}
.qcard__title{ font-weight:800; margin-bottom:6px; }
.qcard__meta{ color:var(--muted); font-size:.95rem; }
.qcard__right{ display:flex; align-items:center; gap:8px; }

@media (max-width: 640px){
  .qcard{ grid-template-columns: 70px 1fr; }
  .qcard__right{ grid-column: 1 / -1; justify-content: flex-end; }
}

/* â€”â€”â€” kontener + sticky â€”â€”â€” */
.tx-container{max-width:1100px;margin:0 auto;padding:10px 12px 100px;display:flex;flex-direction:column;align-items:center}
.tx-stickybar{width:100%;max-width:1000px;display:flex;align-items:center;justify-content:space-between;gap:12px;position:sticky;top:8px;z-index:40;padding:10px 12px;background:linear-gradient(180deg,var(--card-strong),var(--card));border:1px solid var(--border);border-radius:14px;box-shadow:var(--shadow),inset 0 1px 0 rgba(255,255,255,.06);backdrop-filter:blur(16px) saturate(130%);-webkit-backdrop-filter:blur(16px) saturate(130%)}
.tx-brand{flex:1;display:flex;justify-content:center}
.tx-logo{height:34px;object-fit:contain;filter:drop-shadow(0 4px 12px rgba(0,0,0,.35))}
.tx-tabs{display:inline-flex;gap:6px;background:linear-gradient(180deg,rgba(255,255,255,.05),rgba(255,255,255,.02));border:1px solid var(--border);border-radius:999px;padding:4px}
.tx-tab{appearance:none;border:0;cursor:pointer;color:var(--muted);font-weight:800;padding:8px 14px;border-radius:999px;background:transparent}
.tx-tab.is-active{color:#fff;background:linear-gradient(135deg,var(--primary),var(--primary-2));box-shadow:var(--glow-soft)}

/* â€”â€”â€” toolbary â€”â€”â€” */
.tx-toolbar{width:100%;max-width:1000px;margin:10px auto;display:flex;align-items:center;gap:12px;justify-content:space-between;background:linear-gradient(180deg,var(--card-strong),var(--card));border:1px solid var(--border);border-radius:14px;box-shadow:var(--shadow),inset 0 1px 0 rgba(255,255,255,.06);padding:10px 12px}
.tx-group{display:flex;align-items:center;gap:8px}
.tx-label{font-weight:700;color:color-mix(in oklab, var(--fg) 86%, #fff 14%)}
.tx-hint{font-size:.9rem;color:var(--muted)}
/* select â€“ dark/light */
.select{appearance:none;background:linear-gradient(180deg,rgba(255,255,255,.06),rgba(255,255,255,.02));color:var(--fg);border:1px solid var(--border);border-radius:12px;padding:10px 14px}
html[data-theme="light"] .select{background:#fff;color:#0f172a;border-color:rgba(0,0,0,.08)}

/* â€”â€”â€” listy â€”â€”â€” */
.tx-list{width:100%;max-width:1000px;display:grid;gap:12px;justify-content:center}
.tx-empty{opacity:.8;text-align:center;padding:20px 10px;color:var(--muted)}
/* twarde ukrywanie gdy [hidden] (by nie â€nakÅ‚adaÅ‚oâ€ siÄ™ nic) */
#tx-torrents[hidden],#tx-queue[hidden],.tx-toolbar[hidden]{display:none !important}

/* â€”â€”â€” karta torrentu â€”â€”â€” (bez posterÃ³w) */
.tcard{display:grid;grid-template-columns:1fr auto;gap:10px;padding:14px;background:linear-gradient(180deg,var(--card-strong),var(--card));border:1px solid var(--border);border-radius:16px;box-shadow:var(--shadow),inset 0 1px 0 rgba(255,255,255,.05)}
.tcard__left{display:flex;flex-direction:column;gap:8px}
.tcard__title{font-weight:800;font-size:1.05rem}
.tcard__meta{display:flex;gap:12px;color:var(--muted);font-size:.95rem}
.tcard__progress{width:100%;height:12px;border-radius:999px;background:rgba(255,255,255,.08);overflow:hidden;position:relative;border:1px solid var(--border)}
.tcard__bar{position:absolute;left:0;top:0;height:100%;width:0%;background:linear-gradient(90deg,var(--primary-2),var(--primary));box-shadow:var(--glow-soft)}
.tcard__right{display:flex;align-items:center;gap:8px;flex-wrap:wrap}
.tbtn{appearance:none;border:0;border-radius:12px;padding:8px 12px;font-weight:800;cursor:pointer;background:linear-gradient(135deg,var(--primary),var(--primary-2));color:#fff}
.tbtn--ghost{background:transparent;color:var(--fg);border:1px solid var(--border)}
.tbtn--danger{background:linear-gradient(135deg,#ef4444,#b91c1c);color:#fff}

/* â€”â€”â€” karta kolejki â€”â€”â€” */
.qcard{display:grid;grid-template-columns:96px 1fr auto;gap:12px;padding:12px;background:linear-gradient(180deg,var(--card-strong),var(--card));border:1px solid var(--border);border-radius:16px;box-shadow:var(--shadow),inset 0 1px 0 rgba(255,255,255,.05)}
.qcard__img{width:96px;height:144px;object-fit:cover;border-radius:10px;border:1px solid var(--border);background:#111}
.qcard__title{font-weight:800;margin-bottom:6px}
.qcard__meta{color:var(--muted);font-size:.95rem}
.qcard__right{display:flex;align-items:center;gap:8px}
@media (max-width:640px){.qcard{grid-template-columns:70px 1fr}.qcard__right{grid-column:1/-1;justify-content:flex-end}}

/* ====== Ikony nawigacji z plikÃ³w SVG (kolorowane currentColor) ====== */
.nawigacja__ico{
  width:22px; height:22px; display:inline-block;
  background-color: currentColor;                /* â† kolor z .nawigacja__btn */
  -webkit-mask-repeat:no-repeat; mask-repeat:no-repeat;
  -webkit-mask-position:center; mask-position:center;
  -webkit-mask-size:contain; mask-size:contain;
  transition: transform .12s ease, filter .2s ease;  /* jak wczeÅ›niej */
}

/* Mapowanie ikon â†’ pliki */
.ico--torrents{
  -webkit-mask-image:url("static/svg/secure-download-svgrepo-com.svg");
          mask-image:url("static/svg/secure-download-svgrepo-com.svg");
}
.ico--search{
  -webkit-mask-image:url("static/svg/search-alt-2-svgrepo-com.svg");
          mask-image:url("static/svg/search-alt-2-svgrepo-com.svg");
}
.ico--available{
  -webkit-mask-image:url("static/svg/film-gallery-svgrepo-com.svg");
          mask-image:url("static/svg/film-gallery-svgrepo-com.svg");
}
.ico--options{
  -webkit-mask-image:url("static/svg/settings-svgrepo-com.svg");
          mask-image:url("static/svg/settings-svgrepo-com.svg");
}

/* (opcjonalnie) delikatny glow ikony na hover â€“ pasuje do Twoich efektÃ³w */
@media (hover:hover){
  .nawigacja__btn:hover .nawigacja__ico{
    transform: translateY(-2px);
    filter: drop-shadow(0 0 10px rgba(124,58,237,.45));
  }
}

/* ======================================================================
 *  SEK CJA: WYSZUKIWARKA (#section-search) â€” PREMIUM NEON GLOSSY (MOBILE FIRST)
 *  - peÅ‚ne namespacing: zaczynamy od #section-search, by nie gryÅºÄ‡ innych sekcji
 *  - ultra-mobile: jedna kolumna, zwiÄ™zÅ‚e karty, klamry tekstu, duÅ¼e przyciski
 *  - reuse zmiennych: --card, --border, --glow-primary, --focus, --muted, itp.
 * ====================================================================== */

/* --- kontener sekcji --- */
#section-search {
  padding: 8px 8px 96px; /* dÃ³Å‚ odsuniÄ™ty od dolnej nawigacji */
}

#section-search .tx-container {
  width: 100%;
  max-width: 1000px;
  margin: 0 auto;
  padding: 0 6px;
}

/* --- sticky pasek z zakÅ‚adkami (Film/Filmy+/Seriale) --- */
#section-search .tx-stickybar {
  position: sticky;
  top: 8px; z-index: 40;
  display: flex; align-items: center; justify-content: space-between;
  gap: 10px;
  padding: 10px 12px;
  border: 1px solid var(--border);
  border-radius: 14px;
  background: linear-gradient(180deg, var(--card-strong), var(--card));
  box-shadow: var(--shadow), inset 0 1px 0 rgba(255,255,255,.06);
  backdrop-filter: blur(16px) saturate(130%);
  -webkit-backdrop-filter: blur(16px) saturate(130%);
}

#section-search .tx-brand { display:flex; justify-content:center; flex:1; }
#section-search .tx-logo { height: 32px; object-fit: contain; filter: drop-shadow(0 4px 12px rgba(0,0,0,.35)); }

#section-search .tx-tabs {
  display: inline-flex; gap: 6px; padding: 4px; border-radius: 999px;
  background: linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02));
  border: 1px solid var(--border);
}
#section-search .tx-tab {
  appearance:none; border:0; cursor:pointer;
  color: var(--muted); font-weight:800; padding:8px 14px; border-radius:999px;
  background: transparent; transition: filter .2s ease, transform .06s ease;
}
#section-search .tx-tab.is-active {
  color:#fff; background: linear-gradient(135deg, var(--primary), var(--primary-2));
  box-shadow: var(--glow-soft);
}
@media (hover:hover){
  #section-search .tx-tab:hover { filter: brightness(1.06); }
}

/* --- toolbar wyszukiwarki --- */
#section-search #sx-toolbar.tx-toolbar {
  display: grid;
  grid-template-columns: 1fr auto; /* mobile: input szeroko, przycisk obok */
  gap: 10px;
  margin: 10px auto;
  padding: 10px 12px;
  border: 1px solid var(--border);
  border-radius: 14px;
  background: linear-gradient(180deg, var(--card-strong), var(--card));
  box-shadow: var(--shadow), inset 0 1px 0 rgba(255,255,255,.06);
}

/* pole wyszukiwarki */
#section-search .sx-input {
  width: 100%;
  appearance: none;
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 12px 14px;
  font: inherit;
  color: var(--fg);
  background: linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
  box-shadow: inset 0 2px 8px rgba(0,0,0,.15);
  transition: border-color .15s ease, box-shadow .2s ease;
}
#section-search .sx-input::placeholder { color: color-mix(in oklab, var(--muted) 85%, #fff 15%); }
#section-search .sx-input:focus-visible {
  outline: none;
  border-color: color-mix(in oklab, var(--primary) 65%, var(--primary-2) 35%);
  box-shadow: var(--focus), 0 0 0 1px color-mix(in oklab, var(--primary) 70%, var(--primary-2) 30%);
}

/* selektor jakoÅ›ci (YTS) â€” w mobile wpada pod input (auto) */
#section-search #sx-quality-wrap {
  display: contents; /* pozwala zachowaÄ‡ prosty grid bez dodatkowej kolumny */
}
#section-search #sx-quality {
  appearance: none;
  width: 100%;
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 10px 12px;
  color: var(--fg);
  background: linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02));
  box-shadow: inset 0 2px 8px rgba(0,0,0,.15);
}
html[data-theme="light"] #section-search #sx-quality {
  background: #fff; color: #0f172a; border-color: rgba(0,0,0,.08);
}

/* przycisk Szukaj */
#section-search #sx-btn-search.tbtn {
  align-self: stretch;
  padding: 0 16px;
  min-width: 92px;
  font-weight: 800;
  border-radius: 12px;
  background: linear-gradient(135deg, var(--primary), var(--primary-2));
  color: #fff;
  border: 0;
}
#section-search #sx-btn-search:active { transform: translateY(1px); }
#section-search #sx-btn-search:focus-visible { outline: none; box-shadow: var(--focus); }

/* Desktop: rozkÅ‚ad 3 kolumny (input | jakoÅ›Ä‡ | przycisk) */
@media (min-width: 880px){
  #section-search #sx-toolbar.tx-toolbar {
    grid-template-columns: 1fr minmax(160px, 220px) auto;
  }
}

/* --- lista wynikÃ³w --- */
#section-search #sx-results.tx-list {
  display: grid;
  grid-template-columns: 1fr;         /* MOBILE: jedna kolumna */
  gap: 10px;
  margin: 8px auto 0;
  width: 100%;
  max-width: 1000px;
}
@media (min-width: 720px){
  #section-search #sx-results.tx-list {
    grid-template-columns: repeat(2, minmax(0, 1fr)); /* tablet */
  }
}
@media (min-width: 1060px){
  #section-search #sx-results.tx-list {
    grid-template-columns: repeat(3, minmax(0, 1fr)); /* desktop szeroki */
  }
}

#section-search .tx-empty {
  opacity: .85;
  text-align: center;
  padding: 18px 12px;
  color: var(--muted);
  border: 1px solid var(--border);
  border-radius: 12px;
  background: linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
}

/* --- karta wyniku (qcard) â€” layout kompaktowy mobile-first --- */
#section-search .qcard {
  display: grid;
  grid-template-columns: 72px 1fr auto; /* mini poster | treÅ›Ä‡ | akcja */
  gap: 10px;
  padding: 10px;
  border: 1px solid var(--border);
  border-radius: 14px;
  background: linear-gradient(180deg, var(--card-strong), var(--card));
  box-shadow: var(--shadow), inset 0 1px 0 rgba(255,255,255,.06);
  align-items: start;
}

#section-search .qcard__img {
  width: 72px; height: 108px;
  border-radius: 10px; object-fit: cover;
  border: 1px solid var(--border);
  background: #0b1220;
}

/* tytuÅ‚ + opis z klamrami, by nic nie â€wylaÅ‚oâ€ w mobile */
#section-search .qcard__title {
  margin: 0 0 4px;
  font-weight: 800;
  font-size: .98rem;
  line-height: 1.2;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 2; /* 2 linie tytuÅ‚u */
  overflow: hidden;
}

#section-search .qcard__desc {
  margin: 0;
  color: var(--muted);
  font-size: .9rem;
  line-height: 1.35;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  -webkit-line-clamp: 3; /* 3 linie opisu */
  overflow: hidden;
}

#section-search .qcard__meta {
  margin-top: 6px;
  font-size: .88rem;
  color: var(--muted);
  display: flex; flex-wrap: wrap; gap: 8px;
}

#section-search .qcard__actions {
  display: grid; gap: 6px; align-content: start;
}

/* przycisk â€Pobierzâ€ */
#section-search .sx-btn-get {
  appearance: none;
  border: 0;
  border-radius: 12px;
  padding: 10px 12px;
  font-weight: 800;
  cursor: pointer;
  background: linear-gradient(135deg, var(--primary), var(--primary-2));
  color: #fff;
  white-space: nowrap;
  box-shadow: 0 10px 20px rgba(124,58,237,.26), 0 4px 12px rgba(6,182,212,.22);
  transition: transform .06s ease, filter .2s ease, box-shadow .2s ease;
}
@media (hover:hover){
  #section-search .sx-btn-get:hover { filter: brightness(1.05); }
}
#section-search .sx-btn-get:active { transform: translateY(1px); }
#section-search .sx-btn-get:focus-visible { outline: none; box-shadow: var(--focus); }

/* bardzo wÄ…skie ekrany: akcja pod contentem (peÅ‚na szerokoÅ›Ä‡) */
@media (max-width: 360px){
  #section-search .qcard {
    grid-template-columns: 64px 1fr;  /* poster + treÅ›Ä‡ */
  }
  #section-search .qcard__actions {
    grid-column: 1 / -1;
    justify-content: end;
  }
}

/* tablety/desktop: wiÄ™kszy poster, trochÄ™ powietrza */
@media (min-width: 900px){
  #section-search .qcard {
    grid-template-columns: 96px 1fr auto;
    gap: 12px;
    padding: 12px;
    border-radius: 16px;
  }
  #section-search .qcard__img { width: 96px; height: 144px; border-radius: 12px; }
}

/* --- TOAST stanu (sukces/bÅ‚Ä…d) --- */
#section-search #sx-toast {
  position: fixed;
  left: 50%; bottom: calc(70px + env(safe-area-inset-bottom, 0px));
  transform: translateX(-50%) translateY(20px);
  z-index: 1000;
  padding: 10px 14px;
  border-radius: 12px;
  color: #fff;
  background:
    linear-gradient(135deg, var(--primary), var(--primary-2)),
    linear-gradient(180deg, rgba(255,255,255,.2), rgba(255,255,255,.05));
  border: 1px solid color-mix(in oklab, var(--primary) 50%, transparent);
  box-shadow: var(--glow-primary);
  opacity: 0; pointer-events: none;
  transition: opacity .22s ease, transform .22s ease;
}
#section-search #sx-toast.is-error {
  background: linear-gradient(135deg, #ff4d6d, #ff7a8d);
  border-color: color-mix(in oklab, #ff4d6d 55%, transparent);
  box-shadow: 0 12px 28px rgba(255,77,109,.25);
}
#section-search #sx-toast.is-show {
  opacity: 1;
  transform: translateX(-50%) translateY(0);
}

/* --- a11y: widoczny focus dla interaktywnych elementÃ³w w sekcji --- */
#section-search :is(button, [role="button"], a, input, select, textarea):focus-visible {
  outline: none;
  box-shadow: var(--focus);
}

/* --- gdy sekcja ukryta przez nawigacjÄ™, niech nic nie â€wystajeâ€ --- */
#section-search[hidden] { display: none !important; }

/* === Clamp: tytuÅ‚ (2 linie) === */
#section-search .qcard__title{
  display: -webkit-box;
  -webkit-box-orient: vertical;

  /* nowy standard + stary prefiks */
  line-clamp: 2;
  -webkit-line-clamp: 2;

  overflow: hidden;
  text-overflow: ellipsis;  /* Å‚adniejsze obciÄ™cie w niektÃ³rych UA */
}

/* === Clamp: opis (3 linie) === */
#section-search .qcard__desc{
  display: -webkit-box;
  -webkit-box-orient: vertical;

  /* nowy standard + stary prefiks */
  line-clamp: 3;
  -webkit-line-clamp: 3;

  overflow: hidden;
  text-overflow: ellipsis;
}

/* 1) Mobile: ukryj przycisk zmiany trybu */
@media (max-width: 640px){
  .theme-toggle { display: none !important; }
}

/* 2) #section-search â€” logo na gÃ³rze, pod nim taby */
#section-search .tx-stickybar{
  display: flex;
  flex-direction: column;          /* â†“ logo, potem zakÅ‚adki */
  align-items: center;
  gap: 8px;
  text-align: center;
}
#section-search .tx-brand{ order: 1; width: 100%; display:flex; justify-content:center; }
#section-search .tx-logo{ height: 36px; }
#section-search .tx-tabs{ order: 2; }

/* Desktop wraca do ukÅ‚adu poziomego */
@media (min-width: 720px){
  #section-search .tx-stickybar{
    flex-direction: row;
    justify-content: space-between;
    text-align: initial;
  }
  #section-search .tx-brand{ order: 0; }
  #section-search .tx-tabs{ order: 0; }
}

/* 3) Toolbar wyszukiwania â€” mobile-first schludny grid */
#section-search #sx-toolbar.tx-toolbar{
  display: grid;
  grid-template-columns: 1fr auto;              /* input szeroko + przycisk */
  grid-template-rows: auto auto;                 /* rzÄ…d 1: input; rzÄ…d 2: jakoÅ›Ä‡ + btn */
  grid-template-areas:
    "q    btn"
    "qual btn";
  align-items: end;
  gap: 10px;
}

/* mapowanie grup (1: input, 2: jakoÅ›Ä‡, 3: przycisk) */
#section-search #sx-toolbar .tx-group:nth-child(1){ grid-area: q; min-width: 0; display: grid; gap: 6px; }
#section-search #sx-toolbar .tx-group:nth-child(2){ grid-area: qual; display: grid; gap: 6px; }
#section-search #sx-toolbar .tx-group:nth-child(3){ grid-area: btn; align-self: stretch; justify-self: end; }

/* dopieszczenie labeli i pÃ³l */
#section-search #sx-toolbar .tx-label{ font-size: .85rem; font-weight: 700; color: var(--muted); }
#section-search .sx-input{ height: 44px; }
#section-search #sx-quality{ height: 44px; }

/* przycisk Szukaj â€“ rÃ³wna wysokoÅ›Ä‡, elegancki hit area */
#section-search #sx-btn-search{
  height: 44px;
  padding: 0 16px;
  border-radius: 12px;
  font-weight: 800;
  white-space: nowrap;
}

/* Tablet/desktop: klasyczne 3 kolumny (input | jakoÅ›Ä‡ | przycisk) */
@media (min-width: 880px){
  #section-search #sx-toolbar.tx-toolbar{
    grid-template-columns: 1fr minmax(160px, 220px) auto;
    grid-template-areas: "q qual btn";
  }
}

/* Bardzo wÄ…skie telefony: wszystko w kolumnie, przycisk na peÅ‚nÄ… szerokoÅ›Ä‡ */
@media (max-width: 360px){
  #section-search #sx-toolbar.tx-toolbar{
    grid-template-columns: 1fr;
    grid-template-areas:
      "q"
      "qual"
      "btn";
  }
  #section-search #sx-toolbar .tx-group:nth-child(3){ justify-self: stretch; }
  #section-search #sx-btn-search{ width: 100%; }
}

/* =========================
   Sekcja SEARCH â€” ukÅ‚ad pionowy
   ========================= */
#section-search #sx-toolbar.tx-toolbar{
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 14px;
  text-align: center;
  background: linear-gradient(180deg, var(--card-strong), var(--card));
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 18px 16px;
}

/* kaÅ¼da grupa pod sobÄ… */
#section-search #sx-toolbar .tx-group{
  width: 100%;
  max-width: 420px;   /* Å¼eby na desktopie nie byÅ‚o za szerokie */
  display: grid;
  gap: 6px;
}

/* labelki wyÅ›rodkowane */
#section-search #sx-toolbar .tx-label{
  font-size: .95rem;
  font-weight: 700;
  color: var(--muted);
  text-align: center;
}

/* input i select peÅ‚na szerokoÅ›Ä‡ */
#section-search .sx-input,
#section-search #sx-quality{
  width: 100%;
  height: 46px;
  padding: 0 14px;
  border-radius: 12px;
  font-size: 1rem;
}

/* przycisk Szukaj */
#section-search #sx-btn-search{
  width: 100%;
  height: 48px;
  border-radius: 14px;
  font-weight: 800;
  background: linear-gradient(135deg, var(--primary), var(--primary-2));
  color: #fff;
  box-shadow: 0 10px 22px rgba(124,58,237,.35), 0 6px 16px rgba(6,182,212,.25);
}
#section-search #sx-btn-search:active{
  transform: translateY(1px);
}

/* Na desktopach nic siÄ™ nie zmienia â€“ wciÄ…Å¼ pionowy i schludny */

/* =========================================================
   TORRENTS + QUEUE â€” MOBILE TIGHT LAYOUT (â‰¤ 640px)
   ========================================================= */
@media (max-width: 640px){

  /* --- kontenery i odstÄ™py --- */
  #section-torrents .tx-container{
    padding: 8px 8px 96px; /* odsuniÄ™cie od dolnej nawigacji */
    align-items: center;
  }

  /* --- stickybar: logo nad tabami, wyÅ›rodkowane --- */
  #section-torrents .tx-stickybar{
    flex-direction: column;
    align-items: center;
    gap: 8px;
    text-align: center;
  }
  #section-torrents .tx-brand{ order: 1; width: 100%; display:flex; justify-content:center; }
  #section-torrents .tx-logo{ height: 32px; }
  #section-torrents .tx-tabs{ order: 2; }

  /* --- toolbary (torrents/queue) w kolumnie, Å‚adne labelki --- */
  #section-torrents .tx-toolbar{
    display: flex !important;
    flex-direction: column;
    align-items: center;
    gap: 12px;
    text-align: center;
    width: 100%;
    max-width: 520px;
    padding: 14px 12px;
    border-radius: var(--radius);
  }
  #section-torrents .tx-toolbar .tx-group{
    width: 100%;
    display: grid;
    gap: 6px;
  }
  #section-torrents .tx-toolbar .tx-label{
    font-size: .95rem;
    font-weight: 700;
    color: var(--muted);
    text-align: center;
  }
  /* selecty peÅ‚na szerokoÅ›Ä‡ i rÃ³wna wysokoÅ›Ä‡ */
  #section-torrents .tx-toolbar .select{
    width: 100%;
    height: 44px;
    border-radius: 12px;
  }

  /* --- listy: jedna kolumna --- */
  #section-torrents #tx-torrents.tx-list,
  #section-torrents #tx-queue.tx-list{
    grid-template-columns: 1fr !important;
    gap: 10px;
    width: 100%;
    max-width: 520px;
    justify-content: center;
  }

  /* =======================================================
     Karta TORRENTU (bez posterÃ³w) â€” kolumna + akcje na dole
     ======================================================= */
  #section-torrents .tcard{
    grid-template-columns: 1fr !important;
    gap: 10px;
    padding: 12px;
    border-radius: 16px;
  }
  #section-torrents .tcard__left{
    display: grid;
    gap: 8px;
  }
  #section-torrents .tcard__title{
    font-weight: 800;
    font-size: 1rem;
    line-height: 1.25;
    margin: 0;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    line-clamp: 2;
    -webkit-line-clamp: 2;
    overflow: hidden;
    text-overflow: ellipsis;
  }
  #section-torrents .tcard__meta{
    gap: 8px;
    flex-wrap: wrap;
    font-size: .92rem;
  }
  #section-torrents .tcard__progress{ height: 10px; }

  /* akcje pod spodem, peÅ‚na szerokoÅ›Ä‡; Å‚adne zawijanie */
  #section-torrents .tcard__right{
    grid-column: 1 / -1;
    display: grid;
    grid-auto-flow: column;
    gap: 8px;
    justify-content: end;
    flex-wrap: wrap;
  }
  #section-torrents .tcard__right .tbtn{
    padding: 9px 12px;
    border-radius: 12px;
    min-height: 40px;
  }

  /* =======================================================
     Karta KOLEJKI (z posterem) â€” poster + treÅ›Ä‡, akcje na dole
     ======================================================= */
  #section-torrents .qcard{
    grid-template-columns: 70px 1fr !important;
    gap: 10px;
    padding: 10px;
    border-radius: 16px;
    align-items: start;
  }
  #section-torrents .qcard__img{
    width: 70px; height: 105px; border-radius: 10px;
  }
  #section-torrents .qcard__title{
    margin: 0 0 4px;
    font-weight: 800;
    font-size: .98rem;
    line-height: 1.25;
    display: -webkit-box;
    -webkit-box-orient: vertical;
    line-clamp: 2;
    -webkit-line-clamp: 2;
    overflow: hidden;
    text-overflow: ellipsis;
  }
  #section-torrents .qcard__meta{
    font-size: .9rem;
    color: var(--muted);
  }
  #section-torrents .qcard__right{
    grid-column: 1 / -1;
    display: grid;
    grid-auto-flow: column;
    gap: 8px;
    justify-content: end;
  }
  #section-torrents .qcard__right .tbtn{
    padding: 9px 12px;
    min-height: 40px;
    border-radius: 12px;
  }

  /* subtelne wyrÃ³wnanie badge */
  #section-torrents .tbadge{
    align-items: center;
    padding: 3px 8px;
    border-radius: 999px;
    font-size: .85rem;
  }
  #section-torrents .tbadge__dot{ width: 8px; height: 8px; }

  /* ukryte elementy sekcji nie zajmujÄ… miejsca */
  #section-torrents :is(#tx-torrents, #tx-queue, .tx-toolbar)[hidden]{
    display: none !important;
  }
}

/* --- drobna korekta dla bardzo wÄ…skich (â‰¤360px): przyciski w kolumnie --- */
@media (max-width: 360px){
  #section-torrents .tcard__right,
  #section-torrents .qcard__right{
    grid-auto-flow: row;
    grid-template-columns: 1fr;
    justify-items: stretch;
  }
  #section-torrents .tcard__right .tbtn,
  #section-torrents .qcard__right .tbtn{
    width: 100%;
  }
}

/* ====== AVAILABLE 2.0 â€“ spÃ³jne z Twoim motywem ====== */
#section-available{padding:8px 8px 96px}
.av2-sticky{
  position:sticky; top:8px; z-index:30;
  display:flex; gap:10px; align-items:center; justify-content:center;
  padding:10px 12px; border:1px solid var(--border); border-radius:14px;
  background:linear-gradient(180deg,var(--card-strong),var(--card));
  box-shadow:var(--shadow), inset 0 1px 0 rgba(255,255,255,.06);
  backdrop-filter:blur(16px) saturate(130%);
}
.av2-brand{display:flex; justify-content:center}
.av2-logo{height:36px; object-fit:contain; filter:drop-shadow(0 4px 12px rgba(0,0,0,.35))}
.av2-tabs{display:inline-flex; gap:6px; padding:4px; border:1px solid var(--border);
  border-radius:999px; background:linear-gradient(180deg,rgba(255,255,255,.05),rgba(255,255,255,.02))}
.av2-tab{appearance:none; border:0; cursor:pointer; padding:8px 14px; border-radius:999px;
  color:var(--muted); font-weight:800; background:transparent}
.av2-tab.is-active{color:#fff; background:linear-gradient(135deg,var(--primary),var(--primary-2)); box-shadow:var(--glow-soft)}

.av2-info{margin:16px 8px 8px; color:var(--muted)}
.av2-list{display:grid; gap:12px}

/* Wiersz: poster | treÅ›Ä‡ | akcja */
.av2-row{
  display:grid; grid-template-columns: 96px 1fr auto; gap:12px; align-items:center;
  padding:12px; border:1px solid var(--border); border-radius:16px;
  background:linear-gradient(180deg,var(--card-strong),var(--card)); box-shadow:var(--shadow), inset 0 1px 0 rgba(255,255,255,.06)
}
.av2-poster{width:96px; height:144px; object-fit:cover; border-radius:12px; border:1px solid var(--border); background:#0b1220}
.av2-body{display:grid; gap:6px}
.av2-title{margin:0; font-weight:800; font-size:1.02rem; line-height:1.25}
.av2-progress{height:10px; border:1px solid var(--border); border-radius:999px; overflow:hidden; background:rgba(255,255,255,.08)}
.av2-bar{height:100%; width:0%; background:linear-gradient(90deg,var(--primary-2),var(--primary)); box-shadow:var(--glow-primary); transition:width .25s ease}
.av2-pct{font-size:.9rem; color:var(--muted)}
.av2-actions{display:flex; gap:8px}

/* Modal */
.av2-modal::backdrop{background:rgba(0,0,0,.45)}
.av2-modal{border:0; padding:0; background:transparent}
.av2-modal-card{
  min-width:min(92vw, 520px);
  display:grid; gap:12px;
  padding:14px; border-radius:16px; border:1px solid var(--border);
  background:linear-gradient(180deg,var(--card-strong),var(--card)); box-shadow:var(--shadow)
}
.av2-modal-card h3{margin:0 0 6px}
.av2-modal-actions{display:flex; gap:8px; justify-content:flex-end}

/* Player */
.av2-player {
  display: grid;
  grid-template-columns: 80px 1fr;
  gap: 12px;
  align-items: center;
  margin: 12px 0;
  padding: 12px;
  border: 1px solid var(--border);
  border-radius: 16px;
  background: linear-gradient(180deg, var(--card-strong), var(--card));
  box-shadow: var(--shadow), inset 0 1px 0 rgba(255, 255, 255, .06);
}

.av2-pl-poster {
  width: 80px;
  height: 120px;
  object-fit: cover;
  border-radius: 12px;
  border: 1px solid var(--border);
  background: #0b1220;
}

.av2-pl-main {
  display: grid;
  gap: 8px;
}

/* TytuÅ‚ aktualnego filmu / odcinka */
.av2-pl-title {
  font-size: 1.1rem;
  font-weight: 600;
  color: var(--text-strong);
  line-height: 1.3;
  text-overflow: ellipsis;
  white-space: nowrap;
  overflow: hidden;
}

.av2-pl-row input[type="range"] {
  width: 100%;
}

.av2-pl-meta {
  display: flex;
  gap: 10px;
  color: var(--muted);
  font-size: .95rem;
}

.av2-pl-ctrls {
  display: flex;
  gap: 8px;
  align-items: center;
}

@media (max-width: 560px) {
  .av2-player {
    grid-template-columns: 72px 1fr;
  }
  .av2-pl-poster {
    width: 72px;
    height: 108px;
  }
  .av2-pl-main {
    gap: 6px;
  }
  .av2-pl-title {
    font-size: 1rem;
  }
}

/* Player â€“ istniejÄ…ce */
.av2-player{
  display:grid; grid-template-columns: 80px 1fr; gap:12px; align-items:center;
  margin:12px 0; padding:12px; border:1px solid var(--border); border-radius:16px;
  background:linear-gradient(180deg,var(--card-strong),var(--card)); box-shadow:var(--shadow), inset 0 1px 0 rgba(255,255,255,.06);
  position: relative;
}
.av2-pl-poster{width:80px; height:120px; object-fit:cover; border-radius:12px; border:1px solid var(--border); background:#0b1220}
.av2-pl-main{display:grid; gap:8px}
.av2-pl-row input[type="range"]{width:100%}
.av2-pl-meta{display:flex; gap:10px; color:var(--muted); font-size:.95rem}
.av2-pl-ctrls{display:flex; gap:8px; align-items:center}
.av2-pl-title{font-weight:700; font-size:1.05rem}

/* Przycisk minimalizacji (prawy gÃ³rny rÃ³g) */
#av2-min-toggle{
  position:absolute; top:6px; right:6px;
  width:28px; height:28px; border-radius:8px;
  display:flex; align-items:center; justify-content:center;
  background:var(--card-strong); border:1px solid var(--border); color:var(--muted);
  cursor:pointer;
}
#av2-min-toggle:hover{ filter:brightness(1.1); }

/* Pasek mini (widoczny tylko w trybie mini) */
#av2-minbar{
  display:none;
  grid-column: 1 / -1;
  width:100%;
  padding:6px 36px 6px 10px; /* miejsce na przycisk */
  font-size:.95rem; color:var(--text); background:transparent;
  white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
}

/* Tryb zminimalizowany */
.av2-player.is-min{
  grid-template-columns: 1fr; gap:6px; padding:8px 12px;
}
.av2-player.is-min #av2-pl-poster,
.av2-player.is-min .av2-pl-row,
.av2-player.is-min .av2-pl-meta,
.av2-player.is-min .av2-pl-ctrls{
  display:none !important;
}
.av2-player.is-min .av2-pl-title{
  display:none;
}
.av2-player.is-min #av2-minbar{
  display:block;
}

/* ResponsywnoÅ›Ä‡ jak wczeÅ›niej */
@media (max-width:560px){
  .av2-row{grid-template-columns: 72px 1fr;}
  .av2-poster{width:72px; height:108px}
  .av2-actions{grid-column:1 / -1; justify-content:end}
}


/* ======================================================================
 * DOSTÄ˜PNE v2 â€” Premium Neon Glossy (kompatybilne z Twoimi zmiennymi)
 * ====================================================================== */

#section-available { padding: 8px 8px 96px; }
#section-available[hidden] { display:none !important; }

/* â€”â€” Sticky: logo + zakÅ‚adki â€”â€” */
#section-available .av2-sticky{
  position: sticky; top: 8px; z-index: 30;
  display: flex; align-items: center; justify-content: center; gap: 10px;
  padding: 10px 12px;
  border: 1px solid var(--border); border-radius: 14px;
  background: linear-gradient(180deg, var(--card-strong), var(--card));
  box-shadow: var(--shadow), inset 0 1px 0 rgba(255,255,255,.06);
  backdrop-filter: blur(16px) saturate(130%); -webkit-backdrop-filter: blur(16px) saturate(130%);
}
#section-available .av2-brand{ display:flex; justify-content:center; }
#section-available .av2-logo{ height: 36px; object-fit: contain; filter: drop-shadow(0 4px 12px rgba(0,0,0,.35)); }

/* zakÅ‚adki */
#section-available .av2-tabs{
  display: inline-flex; gap: 6px; padding: 4px;
  border: 1px solid var(--border); border-radius: 999px;
  background: linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02));
}
#section-available .av2-tabs button{
  appearance: none; border: 0; cursor: pointer;
  padding: 8px 14px; border-radius: 999px;
  background: transparent;
  color: var(--muted); font-weight: 800;
  transition: filter .2s ease, transform .06s ease;
}
#section-available .av2-tabs button.is-active{
  color:#fff;
  background: linear-gradient(135deg, var(--primary), var(--primary-2));
  box-shadow: var(--glow-soft);
}
@media (hover:hover){
  #section-available .av2-tabs button:hover{ filter: brightness(1.05); }
}

/* â€”â€” Info + Lista â€”â€” */
#section-available .av2-info{ margin: 16px 8px 8px; color: var(--muted); }
#section-available .av2-list{ display: grid; gap: 12px; }

/* â€”â€” Karta pozycji â€”â€” */
#section-available .av-card{
  display: grid; grid-template-columns: 96px 1fr auto; gap: 12px; align-items: center;
  padding: 12px;
  border: 1px solid var(--border); border-radius: 16px;
  background: linear-gradient(180deg, var(--card-strong), var(--card));
  box-shadow: var(--shadow), inset 0 1px 0 rgba(255,255,255,.06);
}
#section-available .av-poster{
  width: 96px; height: 144px; object-fit: cover;
  border-radius: 12px; border: 1px solid var(--border); background: #0b1220;
}
#section-available .av-body{ display: grid; gap: 6px; }
#section-available .av-title{ margin: 0; font-weight: 800; font-size: 1.02rem; line-height: 1.25; }
#section-available .av-meta{ display:flex; gap:10px; color:var(--muted); font-size:.92rem; }

#section-available .av-progress{
  height: 10px; border: 1px solid var(--border); border-radius: 999px; overflow: hidden;
  background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.04));
}
#section-available .av-progress .av-bar{
  display:block; height:100%; width:0%;
  background: linear-gradient(90deg, var(--primary-2), var(--primary));
  box-shadow: var(--glow-primary);
  transition: width .25s ease;
}

#section-available .av-actions{ display: flex; gap: 8px; align-items: center; }




/* â€”â€” Player (pokazuje siÄ™ po starcie castu) â€”â€” */
#section-available .av2-player{
  display:grid; grid-template-columns: 80px 1fr; gap:12px; align-items:center;
  margin:12px 0; padding:12px;
  border:1px solid var(--border); border-radius:16px;
  background: linear-gradient(180deg, var(--card-strong), var(--card));
  box-shadow: var(--shadow), inset 0 1px 0 rgba(255,255,255,.06);
}
#section-available .av2-pl-poster{
  width:80px; height:120px; object-fit:cover; border-radius:12px;
  border:1px solid var(--border); background:#0b1220;
}
#section-available .av2-pl-main{ display:grid; gap:8px; }
#section-available .av2-pl-row input[type="range"]{ width:100%; }
#section-available .av2-pl-meta{ display:flex; gap:10px; color:var(--muted); font-size:.95rem; }
#section-available .av2-pl-ctrls{ display:flex; gap:8px; }

/* ikonki playera spÃ³jne z Twoimi .btn */
#section-available .btn.btn--ghost{ border:1px solid var(--border); background: linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02)); color:var(--fg); }
#section-available .btn.btn--danger{ background: linear-gradient(135deg, #ff4d6d, #ff7a8d); color:#fff; box-shadow: 0 12px 24px rgba(255,77,109,.25); }

/* â€”â€” Modal Cast â€”â€” */
#section-available .av2-modal::backdrop{ background: rgba(0,0,0,.45); }
#section-available .av2-modal{ border:0; padding:0; background:transparent; }
#section-available .av2-modal-card{
  min-width: min(92vw, 520px);
  display:grid; gap:12px;
  padding:14px; border-radius:16px; border:1px solid var(--border);
  background: linear-gradient(180deg, var(--card-strong), var(--card));
  box-shadow: var(--shadow);
}
#section-available .av2-modal-card h3{ margin: 0 0 6px; }
#section-available .av2-modal-card .select{
  width:100%; padding:10px 12px; border-radius:12px;
  border:1px solid var(--border);
  background: linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02));
  color: var(--fg);
}
html[data-theme="light"] #section-available .av2-modal-card .select{
  background:#fff; color:#0f172a; border-color: rgba(0,0,0,.08);
}
#section-available .av2-modal-actions{ display:flex; gap:8px; justify-content:flex-end; }

/* â€”â€” Mobile kompakt â€”â€” */
@media (max-width: 560px){
  #section-available .av-card{ grid-template-columns: 72px 1fr; }
  #section-available .av-poster{ width:72px; height:108px; }
  #section-available .av-actions{ grid-column: 1 / -1; justify-content: end; }
}

/* ===== Paski postÄ™pu (DostÄ™pne v2) ===== */
#section-available .av-card { display:grid; grid-template-columns: 96px 1fr; gap:12px; align-items:center;
  padding:12px; border:1px solid var(--border); border-radius:16px;
  background: linear-gradient(180deg, var(--card-strong), var(--card));
  box-shadow: var(--shadow), inset 0 1px 0 rgba(255,255,255,.06);
}
#section-available .poster { position: relative; }
#section-available .av-poster{
  width:96px; height:144px; object-fit:cover; border-radius:12px;
  border:1px solid var(--border); background:#0b1220;
}
/* cienki pasek na posterze */
#section-available .vprog{
  position:absolute; left:0; right:0; bottom:0; height:6px;
  border-radius:0 0 12px 12px; overflow:hidden;
  background: linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.04));
  border-top: 1px solid var(--border);
}
#section-available .vprog > span{
  display:block; height:100%;
  background: linear-gradient(90deg, var(--primary-2), var(--primary));
  box-shadow: var(--glow-primary);
  width:0%;
  transition: width .25s ease;
}

#section-available .body{ display:grid; gap:6px; align-content:center; }
#section-available .title{ font-weight:800; font-size:1.02rem; line-height:1.25; }
#section-available .meta{ color:var(--muted); font-size:.92rem; }
#section-available .tiny{ color:var(--muted); font-size:.9rem; }

#section-available .av-progress{
  height:10px; border-radius:999px; overflow:hidden;
  border:1px solid var(--border);
  background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.04));
}
#section-available .av-progress .av-bar{
  display:block; height:100%; width:0%;
  background: linear-gradient(90deg, var(--primary-2), var(--primary));
  box-shadow: var(--glow-primary);
  transition: width .25s ease;
}

#section-available .actions{ display:flex; gap:8px; }

/* player domyÅ›lnie ukryty â€“ na wypadek braku atrybutu hidden w HTML */
#section-available #av2-player[hidden] { display: none !important; }

@media (max-width:560px){
  #section-available .av-card{ grid-template-columns: 72px 1fr; }
  #section-available .av-poster{ width:72px; height:108px; }
  #section-available .actions{ justify-content:flex-end; }
}

/* ===== DostÄ™pne v2 â€“ kapsuÅ‚ka â€za X dniâ€ + data usuniÄ™cia ===== */
#section-available .av-card{
  display:grid; grid-template-columns:96px 1fr; gap:12px; align-items:center;
  padding:12px; border:1px solid var(--border); border-radius:16px;
  background:linear-gradient(180deg,var(--card-strong),var(--card));
  box-shadow:var(--shadow), inset 0 1px 0 rgba(255,255,255,.06);
}

#section-available .poster{ position:relative; }
#section-available .av-poster{
  width:96px; height:144px; object-fit:cover; border-radius:12px;
  border:1px solid var(--border); background:#0b1220;
}

/* cienki pasek postÄ™pu na posterze */
#section-available .vprog{
  position:absolute; left:0; right:0; bottom:0; height:6px;
  border-radius:0 0 12px 12px; overflow:hidden;
  background: linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.04));
  border-top: 1px solid var(--border);
}
#section-available .vprog>span{
  display:block; height:100%;
  background: linear-gradient(90deg, var(--primary-2), var(--primary));
  box-shadow: var(--glow-primary);
  width:0%; transition: width .25s ease;
}

#section-available .body{ display:grid; gap:6px; align-content:center; }
#section-available .headline{
  display:flex; align-items:flex-start; gap:10px; justify-content:space-between;
}
#section-available .title{ font-weight:800; font-size:1.02rem; line-height:1.25; }

/* kapsuÅ‚ka */
#section-available .exp-badge{
  display:inline-block; white-space:nowrap; font-weight:800; font-size:.82rem;
  padding:6px 10px; border-radius:999px; border:1px solid var(--border);
  background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
}
#section-available .exp-badge--ok{
  background: linear-gradient(135deg, var(--primary), var(--primary-2));
  color:#0b1220; box-shadow: 0 8px 18px rgba(124,58,237,.25);
}
#section-available .exp-badge--warn{
  background: linear-gradient(135deg, #f59e0b, #f97316);
  color:#0b1220; box-shadow: 0 8px 18px rgba(249,115,22,.25);
}
#section-available .exp-badge--danger{
  background: linear-gradient(135deg, #ff4d6d, #ff7a8d);
  color:#fff; box-shadow: 0 10px 22px rgba(255,77,109,.30);
}

/* pasek postÄ™pu pod tytuÅ‚em */
#section-available .av-progress{
  height:10px; border-radius:999px; overflow:hidden;
  border:1px solid var(--border);
  background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.04));
}
#section-available .av-progress .av-bar{
  display:block; height:100%; width:0%;
  background: linear-gradient(90deg, var(--primary-2), var(--primary));
  box-shadow: var(--glow-primary);
  transition: width .25s ease;
}

/* wiersz: lewa meta + prawa data usuniÄ™cia */
#section-available .tiny-row{
  display:flex; align-items:center; justify-content:space-between; gap:8px;
  color: var(--muted); font-size:.9rem;
}
#section-available .tiny-left{ opacity:.95; }
#section-available .expires{ white-space:nowrap; }
#section-available .expires--warn{ color: #f59e0b; }

/* bezpieczeÅ„stwo: player ukryty gdy [hidden] */
#section-available #av2-player[hidden]{ display:none !important; }

@media (max-width:560px){
  #section-available .av-card{ grid-template-columns:72px 1fr; }
  #section-available .av-poster{ width:72px; height:108px; }
}


/* Pasek + info */
.av-progress-wrap {
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-top:4px;
}
.av-progress {
  flex:1;
  height:6px;
  background:#1f2937;
  border-radius:4px;
  overflow:hidden;
  margin-right:8px;
}
.av-progress .av-bar {
  display:block;
  height:100%;
  background:#3b82f6;
}
.av-del-date {
  font-size:11px;
  color:#9ca3af;
  white-space:nowrap;
}

/* Karta musi mieÄ‡ pozycjonowanie, Å¼eby absoluty dziaÅ‚aÅ‚y */
.av-card{ position:relative; }


/* ===================== DEL BADGE â€” drop-in (umieÅ›Ä‡ NA KOÅƒCU CSS) ===================== */

/* karta musi mieÄ‡ relative, by absoluty siÄ™ pozycjonowaÅ‚y */
#section-available .av-card { position: relative; }

/* zrÃ³b miejsce w tytule na kapsuÅ‚y (responsywne) */
#section-available .av-card .title {
  padding-right: clamp(120px, 30vw, 200px);
}

/* pudeÅ‚ko kapsuÅ‚ (prawy gÃ³rny rÃ³g) */
#section-available .del-box{
  position: absolute;
  top: 8px; right: 8px;
  display: flex;
  flex-direction: column;
  align-items: flex-end;
  gap: 6px;
  z-index: 12;
  max-width: 72%;
  pointer-events: none; /* nie zasÅ‚ania klikÃ³w karty */
}

/* wyglÄ…d kapsuÅ‚ */
#section-available .del-badge,
#section-available .del-date{
  pointer-events: auto;
  font-size: 12px;
  line-height: 1;
  white-space: nowrap;
  border-radius: 999px;
  text-shadow: 0 1px 0 rgba(0,0,0,.35);
  box-shadow: 0 6px 18px rgba(0,0,0,.30), inset 0 1px 0 rgba(255,255,255,.06);
  backdrop-filter: saturate(1.1) blur(6px);
}

/* gÅ‚Ã³wna kapsuÅ‚a â€usunie siÄ™ za â€¦â€ */
#section-available .del-badge{
  padding: 6px 10px;
  border: 1px solid rgba(255,255,255,.08);
  background: linear-gradient(180deg, rgba(15,23,42,.85), rgba(11,18,32,.75));
  color: #e5e7eb;
}

/* data pod kapsuÅ‚Ä… */
#section-available .del-date{
  padding: 4px 8px;
  border-radius: 10px;
  border: 1px solid rgba(255,255,255,.06);
  background: linear-gradient(180deg, rgba(15,23,42,.70), rgba(11,18,32,.60));
  color: #a8b2c7;
}

/* ===== stany kolorystyczne z JS: ok | warn | danger ===== */
#section-available .del-box.ok .del-badge{
  border-color: #184a31;
  background: linear-gradient(180deg, #144a2f, #0f3b24);
  color: #d1fae5;
  box-shadow: 0 10px 22px rgba(20,74,55,.35), inset 0 1px 0 rgba(255,255,255,.06);
}
#section-available .del-box.warn .del-badge{
  border-color: #8a6b1a;
  background: linear-gradient(180deg, #4a3314, #3b2a0f);
  color: #fff3c4;
  box-shadow: 0 10px 22px rgba(122,92,26,.35), inset 0 1px 0 rgba(255,255,255,.06);
}
#section-available .del-box.danger .del-badge{
  border-color: #7a2a3a;
  background: linear-gradient(180deg, #4a1420, #3b0f1a);
  color: #fecaca;
  box-shadow: 0 10px 22px rgba(122,42,58,.40), inset 0 1px 0 rgba(255,255,255,.06);
}

/* Light mode â€“ jaÅ›niejsze tÅ‚a i czytelny tekst */
html[data-theme="light"] #section-available .del-badge{
  border-color: rgba(0,0,0,.06);
  background: linear-gradient(180deg, rgba(255,255,255,.96), rgba(245,248,255,.88));
  color: #0f172a;
  text-shadow: none;
}
html[data-theme="light"] #section-available .del-date{
  border-color: rgba(0,0,0,.06);
  background: rgba(255,255,255,.85);
  color: #475569;
  text-shadow: none;
}
html[data-theme="light"] #section-available .del-box.ok .del-badge{
  background: linear-gradient(135deg, #86efac, #22c55e);
  color: #0b1220;
}
html[data-theme="light"] #section-available .del-box.warn .del-badge{
  background: linear-gradient(135deg, #fbbf24, #f59e0b);
  color: #0b1220;
}
html[data-theme="light"] #section-available .del-box.danger .del-badge{
  background: linear-gradient(135deg, #fecaca, #ef4444);
  color: #7f1d1d;
}

/* drobne korekty na bardzo wÄ…skich ekranach */
@media (max-width: 560px){
  #section-available .del-box{ top: 6px; right: 6px; max-width: 78%; }
  #section-available .del-badge{ font-size: 11px; padding: 5px 9px; }
  #section-available .del-date{ font-size: 10px; padding: 3px 7px; }
  #section-available .av-card .title{ padding-right: clamp(96px, 38vw, 160px); }
}

/* === OVERRIDES: del-box / del-badge â€“ mobile & desktop tidy === */

/* karta jako kotwica dla absolutÃ³w */
#section-available .av-card{
  position: relative !important;
}

/* kapsuÅ‚y: zawsze absolutnie w prawym gÃ³rnym rogu i nie zabierajÄ… miejsca */
#section-available .del-box{
  position: absolute !important;
  top: 10px; right: 12px;
  display: flex; flex-direction: column; align-items: flex-end;
  gap: 6px;
  max-width: min(70%, 320px);
  z-index: 3;
  pointer-events: none;              /* nie przeszkadzajÄ… w klikaniu karty */
}

/* wyglÄ…d kapsuÅ‚ */
#section-available .del-badge,
#section-available .del-date{
  font-size: 12px; line-height: 1.25;
  padding: 6px 10px;
  border-radius: 10px;
  border: 1px solid rgba(255,255,255,.08);
  background: rgba(15,23,42,.82);
  color: #e5e7eb;
  backdrop-filter: saturate(1.1) blur(6px);
  white-space: nowrap;
  box-shadow: 0 6px 18px rgba(0,0,0,.28), inset 0 1px 0 rgba(255,255,255,.06);
  text-shadow: 0 1px 0 rgba(0,0,0,.35);
}

/* stany kolorystyczne (spÃ³jne z JS ok/warn/danger) */
#section-available .del-box.ok    .del-badge{ background: linear-gradient(180deg, rgba(20,74,55,.92), rgba(13,52,39,.92)); border-color:#184a31; color:#d1fae5; }
#section-available .del-box.warn  .del-badge{ background: linear-gradient(180deg, rgba(122,92,26,.95), rgba(88,66,18,.92));  border-color:#8a6b1a; color:#fff3c4; }
#section-available .del-box.danger .del-badge{ background: linear-gradient(180deg, rgba(122,42,58,.96), rgba(92,26,40,.94));  border-color:#7a2a3a; color:#fecaca; }

/* data â€“ trochÄ™ spokojniejsza */
#section-available .del-date{
  font-size: 11px;
  padding: 4px 8px;
  background: rgba(11,18,32,.72);
  color: #a8b2c7;
  border-color: rgba(255,255,255,.06);
}

/* tytuÅ‚ NIE ma juÅ¼ sztucznego odsuniÄ™cia â€“ usuwa â€dziurÄ™â€ na mobile */
#section-available .av-card .title{
  padding-right: 0 !important;
  display: -webkit-box;
  -webkit-box-orient: vertical;
  line-clamp: 2; -webkit-line-clamp: 2;
  overflow: hidden; text-overflow: ellipsis;
}

/* pasek postÄ™pu zawsze 100% szerokoÅ›ci (kapsuÅ‚y go nie skracajÄ…) */
#section-available .av-progress-wrap,
#section-available .av-progress{
  width: 100% !important;
}

/* --- Mobile polish --- */
@media (max-width: 560px){
  #section-available .del-box{
    top: 8px; right: 8px;
    gap: 4px;
    max-width: 78%;
    transform: translateZ(0);       /* ostrzejszy tekst na niektÃ³rych UA */
  }
  #section-available .del-badge{ font-size: 11px; padding: 5px 9px; }
  #section-available .del-date { font-size: 10px; padding: 3px 7px; }

  /* ciaÅ›niejsze odstÄ™py karty na mobile */
  #section-available .av-card{ gap: 10px !important; padding: 10px !important; }
  #section-available .av-card .body{ gap: 6px !important; }
}

/* --- Desktop polish (opcjonalnie: minimalny bufor od kapsuÅ‚ przy mega dÅ‚ugich tytuÅ‚ach) --- */
@media (min-width: 1024px){
  /* jeÅ›li chcesz, dodaj lekki bufor dla tytuÅ‚u, ale nie wpÅ‚ywa na progress */
  #section-available .av-card .title{ padding-right: 140px; }
}

:root{
  --card-radius: 14px;

  /* ğŸ”» BARDZO KOMPAKTOWA STOPKA */
  --del-height: 26px;      /* byÅ‚o 38/60 â€” znacznie mniejsze */
  --del-gap: 6px;          /* odstÄ™p nad stopkÄ… w karcie */
  --del-pad-x: 10px;       /* wewnÄ™trzne poziome odstÄ™py */
  --del-font: 12px;        /* gÅ‚Ã³wny rozmiar fontu w stopce */
  --del-date-font: 11px;   /* rozmiar fontu w dacie */

  /* kolory stanÃ³w */
  --del-ok-bg:    linear-gradient(135deg,#28a745,#218838);
  --del-warn-bg:  linear-gradient(135deg,#ffc107,#e0a800);
  --del-danger-bg:linear-gradient(135deg,#dc3545,#a71d2a);

  /* teksty */
  --del-text: #fff;
  --del-text-warn: #111;
  --del-date-bg: rgba(0,0,0,.30);

  /* tÅ‚o karty (dopasuj do motywu) */
  --card-bg: #111;
}

/* KARTA â€“ peÅ‚ne zaokrÄ…glenie + miejsce na footer, gdy jest */
.av-card{
  position: relative;
  overflow: hidden;                 /* przytnie footer do promienia karty */
  border-radius: var(--card-radius);
  background: var(--card-bg);
}

/* tylko gdy karta ma footer */
.av-card.has-del{
  padding-bottom: calc(var(--del-height) + var(--del-gap));
}

/* WEWNÄ˜TRZNY FOOTER (super-kompakt) */
.av-card > .del-row{
  position: absolute;
  left: 0; right: 0; bottom: 0;
  height: var(--del-height);

  display: grid;
  grid-template-columns: 1fr auto;  /* zawsze jedna linia (PC + mobile) */
  align-items: center;
  gap: 6px;
  padding: 0 var(--del-pad-x);

  box-shadow: inset 0 1px 0 rgba(255,255,255,.08);
  color: var(--del-text);
  line-height: 1;                   /* zbija wysokoÅ›Ä‡ w pionie */
  font-size: var(--del-font);
}

/* Kolory stanÃ³w (kolor caÅ‚ej belki) */
.av-card > .del-row.ok{    background: var(--del-ok-bg); }
.av-card > .del-row.warn{  background: var(--del-warn-bg); color: var(--del-text-warn); }
.av-card > .del-row.danger{background: var(--del-danger-bg); }

/* TreÅ›Ä‡ stopki (kompakt) */
.del-row__left{
  min-width: 0;
  font-weight: 700;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  letter-spacing: .1px;
}

.del-row__right{ justify-self: end; }

.del-date{
  display: inline-block;
  padding: 2px 6px;                 /* mniejsze â€pillâ€ */
  border-radius: 6px;
  font-weight: 600;
  font-size: var(--del-date-font);
  background: var(--del-date-bg);
  color: currentColor;
  white-space: nowrap;
}

/* subtelna interakcja (opcjonalnie) */
.av-card > .del-row{ transition: filter .18s ease; }
.av-card:hover > .del-row{ filter: brightness(1.02); }

/* ğŸ”§ ultramaÅ‚e ekrany â€” jeszcze ciaÅ›niej (opcjonalnie) */
@media (max-width: 360px){
  :root{
    --del-height: 24px;
    --del-font: 11.5px;
    --del-date-font: 10.5px;
    --del-pad-x: 8px;
  }
}

/* =========================
   PWA: safe-area + bottom nav + 100vh
   ========================= */
:root {
  --safe-top: env(safe-area-inset-top, 0px);
  --safe-bottom: env(safe-area-inset-bottom, 0px);
  --vh: 1vh;      /* realne 1% wysokoÅ›ci â€“ JS podmienia */
  --nav-h: 72px;  /* startowa wysokoÅ›Ä‡; JS nadpisze po zmierzeniu */
}

html, body { height: 100%; }
body, .app, .auth {
  min-height: calc(var(--vh) * 100);
}

/* GÃ“RNE sticky bary â€” wiÄ™kszy margines od notcha, ale bez przesady */
.auth__header,
.tx-stickybar,
.av2-sticky,
#av2-header {
  padding-top: clamp(10px, calc(var(--safe-top) + 8px), 24px);
}

/* DOLNA nawigacja zawsze doklejona do doÅ‚u */
.nawigacja {
  position: fixed;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 1000;

  padding-top: 8px;
  padding-bottom: calc(8px + var(--safe-bottom));

  /* Twoje tÅ‚o/menu style zostajÄ… takie jak miaÅ‚eÅ› */
}

/* TREÅšÄ† â€“ rezerwacja miejsca nad dolnym menu */
#content,
.section,
#section-torrents,
#section-search,
#section-available,
#section-options {
  padding-bottom: calc(var(--nav-h) + var(--safe-bottom) + 12px);
}

/* Stopka ekranu logowania teÅ¼ ma safe-area */
.auth__footer {
  padding-bottom: calc(16px + var(--safe-bottom));
}

/* ===== Opcje ===== */
.opts { max-width: 980px; margin: 0 auto; padding: 16px; display: grid; gap: 16px; }
.opts__card {
  background: var(--card-bg, rgba(255,255,255,0.06));
  border: 1px solid rgba(125,125,125,0.25);
  border-radius: 16px; padding: 16px; box-shadow: 0 6px 18px rgba(0,0,0,0.08);
}
html[data-theme="light"] .opts__card { background: #fff; border-color: rgba(0,0,0,0.08); }
.opts__card-hd { display:flex; align-items:center; justify-content:space-between; gap:12px; margin-bottom:8px; }
.opts__card-hd h2 { font-size: 1.1rem; margin: 0; }
.opts__card-ft { margin-top: 10px; display:flex; justify-content:flex-end; }

.opts__row { display:flex; flex-wrap: wrap; gap: 16px; align-items: center; justify-content: space-between; padding: 8px 0; }
.opts__col { flex: 1 1 280px; min-width: 220px; }
.opts__col--end { display:flex; justify-content:flex-end; align-items:center; }
.opts__label { font-weight: 600; margin-bottom: 4px; }
.opts__hint  { opacity: .7; font-size: .9rem; }
.opts__value { font-variant-numeric: tabular-nums; }

.switch { display:inline-flex; align-items:center; gap:10px; cursor:pointer; user-select:none; }
.switch input { position:absolute; opacity:0; pointer-events:none; }
.switch__ui {
  width: 44px; height: 26px; border-radius: 999px; position: relative;
  background: rgba(127,127,127,.35); transition: background .2s ease;
}
.switch__ui::after {
  content: ""; position: absolute; top: 3px; left: 3px; width: 20px; height: 20px;
  border-radius: 50%; background: #fff; box-shadow: 0 1px 3px rgba(0,0,0,.25);
  transition: transform .2s ease;
}
.switch input:checked + .switch__ui { background: #3b82f6; }
.switch input:checked + .switch__ui::after { transform: translateX(18px); }
.switch__txt { opacity: .8; font-size: .95rem; }

/* drobne dopasowanie guzikÃ³w, moÅ¼esz pominÄ…Ä‡ jeÅ›li juÅ¼ masz */
.btn--danger { background: #d73636; color: #fff; }
.btn--danger:hover { filter: brightness(.96); }
.btn--ghost { background: transparent; border: 1px solid rgba(125,125,125,.35); }
html[data-theme="light"] .btn--ghost { border-color: rgba(0,0,0,.18); }

/* ===== NagÅ‚Ã³wek sekcji Opcje ===== */
#section-options .opts-header {
  position: sticky;
  top: 0;
  z-index: 100;
  display: flex;
  justify-content: space-between; /* <â€” kluczowe: lewo/prawo */
  align-items: center;
  padding: 0.75rem 1rem;
  background: var(--color-bg, #0b1020);
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
}

html[data-theme="light"] #section-options .opts-header {
  background: #f5f6fa;
}

/* tytuÅ‚ "Opcje" po lewej */
#section-options .opts-title {
  font-size: 1.4rem;
  font-weight: 600;
  margin: 0;
  color: var(--color-text, #fff);
}

/* logo po prawej */
#section-options .opts-logo-wrap {
  display: flex;
  align-items: center;
  justify-content: center;
}

#section-options .opts-logo {
  width: 60px;     /* wiÄ™ksze logo */
  height: auto;
  object-fit: contain;
  display: block;
  transition: transform 0.2s ease;
}

#section-options .opts-logo:hover {
  transform: scale(1.05);
}


/* Kontener na Å¼etony gatunkÃ³w */
.av2-genres{
  display:flex; flex-wrap:wrap; gap:.375rem; margin:.25rem 0 .25rem;
}

/* Pojedynczy Å¼eton */
.av2-genre{
  --g-h: 200;             /* <- nadpisywane inline z JS */
  --g-s: 72%;
  --g-l: 46%;
  --g-l2: calc(var(--g-l) + 10%);
  --g-s2: calc(var(--g-s) + 8%);
  display:inline-flex; align-items:center; gap:.35ch;
  padding:.22rem .6rem; border-radius:9999px;
  font-size:.72rem; line-height:1; white-space:nowrap; user-select:none;
  color:#fff; text-shadow: 0 1px 1.25px rgba(0,0,0,.45);
  background:
    linear-gradient(135deg,
      hsl(var(--g-h) var(--g-s) var(--g-l2)) 0%,
      hsl(calc(var(--g-h) + 24) var(--g-s2) calc(var(--g-l) - 6%)) 100%);
  border:1px solid color-mix(in hsl,
      hsl(var(--g-h) var(--g-s) var(--g-l)) 60%,
      black 40%);
  box-shadow:
    0 .5px 0 rgba(255,255,255,.15) inset,
    0 1px 2px rgba(0,0,0,.25);
  transition: transform .12s ease, box-shadow .12s ease, filter .12s ease;
}

.av2-genre:hover{ transform: translateY(-1px); filter: saturate(1.05) brightness(1.03); }
.av2-genre:active{ transform: translateY(0); filter: none; }
.av2-genre:focus-visible{
  outline: 2px solid color-mix(in hsl,
    hsl(var(--g-h) var(--g-s) var(--g-l2)) 70%, white 30%);
  outline-offset: 2px;
}

/* â€+Nâ€ â€“ stonowany, Å¼eby nie gryzÅ‚ siÄ™ z kolorami */
.av2-genre--more{
  background: linear-gradient(135deg, rgba(110,110,110,.35), rgba(60,60,60,.55));
  border-color: rgba(0,0,0,.35);
  color:#eee; text-shadow: 0 1px 1px rgba(0,0,0,.35);
}

/* Light theme â€“ delikatne rozjaÅ›nienie i ciemniejsza ramka */
:root[data-theme="light"] .av2-genre{
  color:#111; text-shadow:none;
  border-color: color-mix(in hsl,
    hsl(var(--g-h) var(--g-s) var(--g-l)) 30%, black 30%);
  box-shadow:
    0 .5px 0 rgba(255,255,255,.4) inset,
    0 .5px 1.5px rgba(0,0,0,.12);
}
:root[data-theme="light"] .av2-genre--more{
  background: linear-gradient(135deg, rgba(180,180,180,.5), rgba(140,140,140,.6));
  color:#222;
}

/* Prefer-reduced-motion: bez animacji */
@media (prefers-reduced-motion: reduce){
  .av2-genre{ transition: none; }
}


/* Pasek losowania */
.av2-randbox{
  display:flex; flex-wrap:wrap; gap:.5rem; align-items:center;
  padding:.5rem 0 .25rem;
}
.av2-randbox select{ min-width: 220px; }
.av2-randbox .chk{ display:inline-flex; align-items:center; gap:.4rem; }

/* PodÅ›wietlenie wylosowanej karty */
.av-card.is-highlight{
  outline: 2px solid #58a6ff;
  outline-offset: 2px;
  animation: avPulse .9s ease-in-out 2;
}
@keyframes avPulse{
  0%{ transform:scale(1); }
  50%{ transform:scale(1.01); }
  100%{ transform:scale(1); }
}

/* =========================================================
   SERIES â€“ SEASONS (pill buttons) + EPISODES
   Dopasowane do PREMIUM NEON GLOSSY
   ========================================================= */

/* Kontener rozwiniÄ™cia */
.av-series-expand {
  margin-top: 12px;
  padding: 12px;
  border-radius: 16px;
  background: linear-gradient(180deg, var(--card-strong), var(--card));
  border: 1px solid var(--border);
  box-shadow: inset 0 1px 0 rgba(255,255,255,.06);
}

/* ===== Sezony jako przyciski ===== */
.av-season {
  margin-bottom: 12px;
}

.av-season__head {
  display: inline-flex;
  align-items: center;
  gap: 10px;
  padding: 8px 14px;
  border-radius: 999px;
  font-weight: 800;
  font-size: .9rem;

  background: linear-gradient(
    180deg,
    rgba(255,255,255,.08),
    rgba(255,255,255,.03)
  );
  border: 1px solid var(--border);
  color: var(--fg);

  cursor: pointer;
  user-select: none;
  transition: transform .12s ease, box-shadow .2s ease, background .2s ease;
}

/* Hover */
@media (hover:hover) {
  .av-season__head:hover {
    transform: translateY(-1px);
    background: linear-gradient(
      180deg,
      rgba(124,58,237,.18),
      rgba(6,182,212,.12)
    );
    box-shadow: var(--glow-soft);
  }
}

/* Sezon ukoÅ„czony */
.av-season[data-complete="1"] .av-season__head {
  background: linear-gradient(
    135deg,
    rgba(34,197,94,.9),
    rgba(16,185,129,.9)
  );
  color: #0b1220;
  border: none;
  box-shadow: 0 10px 24px rgba(34,197,94,.35);
}

/* ===== Pasek postÄ™pu sezonu ===== */
.av-season .av-progress {
  margin: 8px 0 6px;
  height: 8px;
  border-radius: 999px;
  overflow: hidden;
  background: rgba(255,255,255,.08);
  border: 1px solid var(--border);
}

.av-season .av-bar {
  height: 100%;
  background: linear-gradient(90deg, var(--primary-2), var(--primary));
  box-shadow: var(--glow-soft);
}

/* ===== Lista odcinkÃ³w ===== */
.av-episodes {
  list-style: none;
  padding: 6px 6px 2px;
  margin: 0;
  display: grid;
  gap: 6px;
}

.av-episode {
  display: grid;
  grid-template-columns: 40px 1fr 42px;
  align-items: center;
  gap: 8px;

  padding: 6px 10px;
  border-radius: 10px;

  background: rgba(255,255,255,.04);
  border: 1px solid var(--border);
  font-size: .85rem;
  color: var(--fg);

  transition: background .15s ease, opacity .15s ease;
}

/* Obejrzany odcinek */
.av-episode.is-watched {
  opacity: .55;
  text-decoration: line-through;
}

/* Hover odcinka */
@media (hover:hover) {
  .av-episode:hover {
    background: rgba(255,255,255,.08);
  }
}

/* Numer */
.ep-no {
  font-weight: 800;
  color: var(--muted);
}

/* TytuÅ‚ */
.ep-title {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* Procent */
.ep-pct {
  text-align: right;
  font-weight: 700;
  color: var(--muted);
}

/* =========================================================
   SEASON TOGGLE â€“ PREMIUM NEON BUTTON
   ========================================================= */

.av-season__head {
  width: 100%;
  justify-content: space-between;
  gap: 12px;
}

/* licznik odcinkÃ³w */
.av-season__count {
  font-weight: 700;
  font-size: .85rem;
  color: var(--muted);
}

/* strzaÅ‚ka */
.av-season__toggle {
  font-size: .8rem;
  font-weight: 900;
  opacity: .7;
  transition: transform .2s ease, opacity .2s ease;
}

/* hover â€“ strzaÅ‚ka */
@media (hover:hover) {
  .av-season__head:hover .av-season__toggle {
    opacity: 1;
    transform: scale(1.15);
  }
}

/* ===== rozwiniÄ™ty sezon ===== */
.av-season__body {
  margin-top: 8px;
  padding: 10px 10px 6px;
  border-radius: 14px;
  background: linear-gradient(
    180deg,
    rgba(255,255,255,.04),
    rgba(255,255,255,.02)
  );
  border: 1px solid var(--border);
  animation: season-open .18s ease;
}

@keyframes season-open {
  from { opacity: 0; transform: translateY(-4px); }
  to   { opacity: 1; transform: translateY(0); }
}

/* obrÃ³t strzaÅ‚ki */
.av-season:not(:has(.av-season__body[hidden])) .av-season__toggle {
  transform: rotate(180deg);
  opacity: 1;
}

/* focus accessibility */
.av-season__head:focus-visible {
  outline: none;
  box-shadow: var(--focus);
}


/* =========================================================
   SEASONS TOGGLE (Sezony / ZwiÅ„)
   Styl: PiotrFlix â€“ neon + glass + pill
   ========================================================= */

.av-seasons-toggle {
  display: inline-flex;
  align-items: center;
  gap: 10px;

  margin-top: 10px;
  padding: 8px 16px;

  border-radius: 999px;
  font-weight: 800;
  font-size: .9rem;

  color: #fff;
  background: linear-gradient(
    135deg,
    var(--primary),
    var(--primary-2)
  );

  border: none;
  cursor: pointer;
  user-select: none;

  box-shadow:
    0 10px 26px rgba(124,58,237,.45),
    inset 0 1px 0 rgba(255,255,255,.25);

  transition:
    transform .12s ease,
    box-shadow .2s ease,
    filter .2s ease;
}

/* hover */
@media (hover:hover) {
  .av-seasons-toggle:hover {
    transform: translateY(-1px);
    filter: brightness(1.05);
    box-shadow:
      0 14px 32px rgba(124,58,237,.6),
      inset 0 1px 0 rgba(255,255,255,.3);
  }
}

/* active / click */
.av-seasons-toggle:active {
  transform: translateY(0);
  box-shadow:
    0 6px 18px rgba(124,58,237,.35),
    inset 0 2px 4px rgba(0,0,0,.25);
}

/* focus (accessibility) */
.av-seasons-toggle:focus-visible {
  outline: none;
  box-shadow:
    0 0 0 3px rgba(124,58,237,.35),
    0 14px 32px rgba(124,58,237,.6);
}

/* label */
.av-seasons-toggle__label {
  letter-spacing: .2px;
}

/* strzaÅ‚ka */
.av-seasons-toggle__icon {
  font-size: .8rem;
  font-weight: 900;
  opacity: .9;
  transition: transform .2s ease;
}

/* ===== STAN ROZWINIÄ˜TY ===== */
.av-seasons-toggle[aria-expanded="true"] {
  background: linear-gradient(
    135deg,
    #64748b,
    #475569
  );
  box-shadow:
    0 10px 24px rgba(15,23,42,.55),
    inset 0 1px 0 rgba(255,255,255,.15);
}

/* obrÃ³t strzaÅ‚ki */
.av-seasons-toggle[aria-expanded="true"]
.av-seasons-toggle__icon {
  transform: rotate(180deg);
}


/* =========================================================
   SERIES CARD â€“ FINAL FIX (GRID, NO DRAMA)
   ========================================================= */

.av-card {
  display: grid;
  grid-template-columns: 96px 1fr auto;
  grid-template-rows: auto auto 1fr;
  gap: 14px;

  align-items: start;
  padding: 14px;

  background: linear-gradient(180deg, var(--card-strong), var(--card));
  border: 1px solid var(--border);
  border-radius: 18px;
  box-shadow: var(--shadow);
}

/* POSTER */
.av-card .poster {
  grid-row: 1 / span 3;
}
.av-poster {
  width: 96px;
  height: 144px;
  object-fit: cover;
  border-radius: 12px;
  border: 1px solid var(--border);
}

/* BODY */
.av-card .body {
  display: grid;
  grid-template-rows: auto auto auto 1fr;
  gap: 8px;
}

/* TITLE */
.av-card .title {
  font-size: 1.05rem;
  font-weight: 800;
}

/* ACTIONS â€“ PRAWA KOLUMNA */
.av-card .actions {
  grid-column: 3;
  grid-row: 1 / span 3;

  display: flex;
  flex-direction: column;
  gap: 10px;
  align-items: stretch;
  justify-content: space-between;
}

/* BUTTONS â€“ UJEDNOLICONE */
.av-card .actions button {
  appearance: none;
  border: 0;
  border-radius: 999px;

  padding: 10px 16px;
  font-weight: 800;
  font-size: .9rem;

  cursor: pointer;
  color: #fff;

  background: linear-gradient(135deg, var(--primary), var(--primary-2));
  box-shadow: var(--glow-soft);

  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
}



/* MOBILE */
@media (max-width: 640px) {
  .av-card {
    grid-template-columns: 72px 1fr;
    grid-template-rows: auto auto auto auto;
  }

  .av-card .poster {
    grid-row: 1 / span 4;
  }

  .av-card .actions {
    grid-column: 1 / -1;
    grid-row: auto;

    flex-direction: row;
    justify-content: space-between;
  }

  .av-card .actions button {
    flex: 1;
  }
}

/* =========================================================
   CORE UI SYSTEM â€” CLEAN BASE
   ========================================================= */

/* ---------- Layout ---------- */

.container {
  max-width: 1100px;
  margin: 0 auto;
  padding: 12px;
}

/* ---------- Card ---------- */

.card {
  background: linear-gradient(180deg, var(--card-strong), var(--card));
  border: 1px solid var(--border);
  border-radius: var(--radius);
  box-shadow: var(--shadow), inset 0 1px 0 rgba(255,255,255,.06);
  padding: 14px;
}

/* media card (poster + body + actions) */
.card--media {
  display: grid;
  grid-template-columns: 96px 1fr auto;
  gap: 14px;
  align-items: start;
}

@media (max-width: 640px) {
  .card--media {
    grid-template-columns: 72px 1fr;
  }
}

/* ---------- Poster ---------- */

.card__poster {
  width: 96px;
  height: 144px;
  object-fit: cover;
  border-radius: 12px;
  border: 1px solid var(--border);
}

@media (max-width: 640px) {
  .card__poster {
    width: 72px;
    height: 108px;
  }
}

/* ---------- Body ---------- */

.card__body {
  display: grid;
  gap: 8px;
}

/* ---------- Actions ---------- */

.card__actions {
  display: flex;
  flex-direction: column;
  gap: 10px;
  justify-content: space-between;
}

@media (max-width: 640px) {
  .card__actions {
    grid-column: 1 / -1;
    flex-direction: row;
  }
}

/* ---------- Buttons ---------- */



/* ---------- Progress ---------- */

.progress {
  height: 10px;
  border-radius: 999px;
  background: rgba(255,255,255,.08);
  border: 1px solid var(--border);
  overflow: hidden;
}

.progress__bar {
  height: 100%;
  background: linear-gradient(90deg, var(--primary-2), var(--primary));
  box-shadow: var(--glow-soft);
}

/* =========================================================
   SERIES CARD â€” CLEAN v1
   ========================================================= */

.series-card {
  display: grid;
  grid-template-columns: 96px 1fr auto;
  gap: 16px;
  padding: 16px;

  background: linear-gradient(180deg, #0b1220, #070b14);
  border: 1px solid rgba(255,255,255,.08);
  border-radius: 18px;
}

/* poster */
.series-poster {
  width: 96px;
  height: 144px;
  object-fit: cover;
  border-radius: 12px;
  border: 1px solid rgba(255,255,255,.1);
}

/* main */
.series-main {
  display: grid;
  gap: 8px;
}

.series-title {
  font-size: 1.05rem;
  font-weight: 800;
  margin: 0;
}

/* genres */
.series-genres {
  display: flex;
  gap: 6px;
  flex-wrap: wrap;
}

.genre-chip {
  padding: 3px 10px;
  border-radius: 999px;
  font-size: .75rem;
  font-weight: 700;
  background: rgba(255,255,255,.12);
}

/* progress */
.series-progress {
  height: 10px;
  border-radius: 999px;
  background: rgba(255,255,255,.08);
  overflow: hidden;
}

.series-progress-bar {
  height: 100%;
  background: linear-gradient(90deg, #22d3ee, #8b5cf6);
}

/* meta */
.series-meta {
  font-size: .85rem;
  opacity: .7;
}

/* actions */
.series-actions {
  display: flex;
  flex-direction: column;
  gap: 10px;
  justify-content: space-between;
}



/* =========================================================
   MOBILE
   ========================================================= */

@media (max-width: 640px) {
  .series-card {
    grid-template-columns: 72px 1fr;
  }

  .series-actions {
    grid-column: 1 / -1;
    flex-direction: row;
  }


/* =========================================================
   SERIES CARD â€“ CLEAN LAYOUT (NO LEGACY)
   ========================================================= */

.series-card {
  display: grid;
  grid-template-columns: 96px 1fr 220px;
  gap: 16px;

  padding: 16px;
  border-radius: 20px;

  background: linear-gradient(180deg, var(--card-strong), var(--card));
  border: 1px solid var(--border);
  box-shadow: var(--shadow);
}

/* POSTER */
.series-poster {
  width: 96px;
  height: 144px;
  object-fit: cover;
  border-radius: 14px;
  border: 1px solid var(--border);
}

/* MAIN */
.series-main {
  display: grid;
  gap: 8px;
  align-content: start;
}

.series-title {
  margin: 0;
  font-size: 1.1rem;
  font-weight: 900;
}

/* GENRES */
.series-genres {
  display: flex;
  gap: 6px;
  flex-wrap: wrap;
}

.series-genre {
  padding: 4px 10px;
  border-radius: 999px;
  font-size: .75rem;
  font-weight: 700;
  background: linear-gradient(135deg, var(--primary), var(--primary-2));
  color: #fff;
}

/* PROGRESS */
.series-progress {
  height: 10px;
  border-radius: 999px;
  background: rgba(255,255,255,.08);
  overflow: hidden;
  border: 1px solid var(--border);
}

.series-progress__bar {
  height: 100%;
  background: linear-gradient(90deg, var(--primary-2), var(--primary));
  box-shadow: var(--glow-soft);
}

/* META */
.series-meta {
  font-size: .85rem;
  color: var(--muted);
}

/* ACTIONS */
.series-actions {
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  gap: 12px;
}


/* MOBILE */
@media (max-width: 640px) {
  .series-card {
    grid-template-columns: 72px 1fr;
  }

  .series-poster {
    width: 72px;
    height: 108px;
  }

  .series-actions {
    grid-column: 1 / -1;
    flex-direction: row;
  }


}
/* =========================================================
   AV CARD â€” HARD RESET (DESKTOP LOCKED)
   ========================================================= */

.av-card {
  display: grid !important;

  /* ğŸ”’ SZTYWNY GRID â€” NIC GO NIE RUSZY */
  grid-template-columns: 120px minmax(0, 1fr) 220px !important;

  column-gap: 20px !important;
  row-gap: 0 !important;

  align-items: center !important;

  padding: 18px !important;
  border-radius: 22px !important;

  background: linear-gradient(180deg, var(--card-strong), var(--card)) !important;
  border: 1px solid var(--border) !important;
  box-shadow: var(--shadow) !important;

  overflow: hidden !important; /* ğŸ”’ */
}

/* =========================================================
   POSTER
   ========================================================= */

.av-card .poster {
  width: 120px !important;
  flex-shrink: 0 !important;
  display: flex !important;
  justify-content: center !important;
}

/* âŒ usuwamy pasek progressu pod plakatem */
.av-card .poster .vprog {
  display: none !important;
}

.av-card .av-poster {
  width: 100% !important;
  height: auto !important;
  aspect-ratio: 2 / 3 !important;
  object-fit: cover !important;
  border-radius: 14px !important;
}

/* =========================================================
   BODY â€” ZAMKNIÄ˜TY
   ========================================================= */

.av-card .body {
  display: grid !important;
  gap: 10px !important;
  align-content: center !important;

  min-width: 0 !important;      /* ğŸ”’ KLUCZ */
  overflow: hidden !important;  /* ğŸ”’ */
}

/* title / chips / progress NIE MOGÄ„ ROZPYCHAÄ† */
.av-card .body > * {
  min-width: 0 !important;
}

/* =========================================================
   ACTIONS â€” DESKTOP (RIGHT COLUMN LOCKED)
   ========================================================= */

.av-card .actions {
  display: flex !important;
  flex-direction: column !important;
  align-items: flex-end !important;
  gap: 12px !important;

  justify-self: end !important;
  min-width: 220px !important;   /* ğŸ”’ */
  flex-shrink: 0 !important;     /* ğŸ”’ */
}

/* =========================================================
   BASE BUTTON â€” FIXED SIZE (CAST & SEZONY)
   ========================================================= */

.av-card .action-btn {
  all: unset !important;

  width: 140px !important;
  height: 44px !important;

  border-radius: 999px !important;
  padding: 0 !important;

  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  gap: 8px !important;

  font-weight: 700 !important;
  font-size: .95rem !important;
  letter-spacing: .2px !important;

  cursor: pointer !important;
  white-space: nowrap !important;

  color: #fff !important;
  background: linear-gradient(135deg, var(--primary), var(--primary-2)) !important;

  box-shadow:
    0 10px 22px rgba(124,58,237,.4),
    0 4px 12px rgba(6,182,212,.3) !important;
}

/* Cast i Sezony â€” TEN SAM ROZMIAR */
.av-card .action-btn--cast,
.av-card .action-btn--seasons {
  width: 140px !important;
  height: 44px !important;
}

/* =========================================================
   SERIES EXPAND
   ========================================================= */

.av-card .av-series-expand {
  grid-column: 1 / 3 !important;
  margin-top: 14px !important;
}

/* =========================================================
   MOBILE â€” SAFE ZONE ABOVE DELETE BAR
   ========================================================= */

@media (max-width: 720px) {

  .av-card {
    grid-template-columns: 1fr !important;
    gap: 16px !important;
    padding-bottom: 96px !important;
  }

  .av-card .poster {
    width: 100% !important;
    justify-content: center !important;
  }

  .av-card .av-poster {
    width: auto !important;
    max-width: 200px !important;
    height: auto !important;
    object-fit: contain !important;
    margin: 0 auto !important;
  }

  .av-card .actions {
    align-items: center !important;
    width: 100% !important;
    margin-bottom: 24px !important;
    min-width: 0 !important;
  }

  .av-card .action-btn {
    width: 140px !important;
    height: 44px !important;
  }

  .av-card .av-series-expand {
    grid-column: 1 !important;
  }
}

/* =========================================================
   MOBILE BOTTOM MENU â€” SAFE AREA FIX (iOS / Android)
   ========================================================= */

.bottom-nav {
  position: fixed !important;
  left: 0 !important;
  right: 0 !important;
  bottom: 0 !important;

  z-index: 9999 !important;

  /* ğŸ”‘ SAFE AREA */
  padding-bottom: env(safe-area-inset-bottom) !important;

  /* jeÅ¼eli masz padding w Å›rodku menu */
  padding-left: 16px;
  padding-right: 16px;
  padding-top: 10px;

  background: linear-gradient(
    180deg,
    rgba(10,12,20,0.85),
    rgba(10,12,20,0.98)
  ) !important;

  backdrop-filter: blur(16px);
}

/* =========================================================
   BODY â€” MIEJSCE NA MENU
   ========================================================= */

/* Å¼eby content NIE byÅ‚ zasÅ‚aniany */
@media (max-width: 768px) {
  body {
    padding-bottom: calc(72px + env(safe-area-inset-bottom)) !important;
  }
}
