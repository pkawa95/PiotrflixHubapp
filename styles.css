/* =========================
   PiotrFlix â€“ UI (mobile-first)
   ========================= */

:root {
  --bg: #0b1021;
  --panel: #0f172a;
  --card: #111827;
  --text: #e5e7eb;
  --muted: #94a3b8;
  --accent: #3b82f6;
  --accent-2: #60a5fa;
  --good: #22c55e;
  --warn: #f59e0b;
  --danger: #ef4444;
  --stroke: #1f2937;

  --radius: 14px;
  --shadow: 0 10px 30px rgba(0,0,0,.35), inset 0 1px 0 rgba(255,255,255,.02);

  color-scheme: dark;
}

html[data-theme="light"] {
  --bg: #f6f8fc;
  --panel: #ffffff;
  --card: #ffffff;
  --text: #0f172a;
  --muted: #475569;
  --accent: #2563eb;
  --accent-2: #60a5fa;
  --good: #16a34a;
  --warn: #d97706;
  --danger: #dc2626;
  --stroke: #e5e7eb;

  color-scheme: light;
}

* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  font: 15px/1.55 system-ui, -apple-system, "Segoe UI", Roboto, Ubuntu, "Helvetica Neue", Arial;
  color: var(--text);
  background:
    radial-gradient(1200px 800px at -20% -20%, #0c1631 0%, transparent 60%),
    radial-gradient(900px 700px at 120% -10%, #0c1a38 0%, transparent 60%),
    linear-gradient(180deg, var(--bg), #0b142c);
}

/* ---------- Auth ---------- */
.auth-screen {
  min-height: 100dvh;
  display: grid;
  grid-template-rows: auto auto 1fr auto;
  gap: 14px;
  padding: 24px 16px 28px;
}
.auth-logo { width: 140px; margin: 0 auto 8px; display:block; }
.auth-tabs { display:flex; gap:8px; justify-content:center; }
.tab {
  border:1px solid var(--stroke);
  background:linear-gradient(180deg,#162340,var(--panel));
  color:var(--text);
  padding:10px 14px;
  border-radius:999px;
  cursor:pointer;
}
.tab.active { border-color:var(--accent); box-shadow:0 0 0 3px rgba(59,130,246,.25) }
.auth-form { max-width: 720px; margin: 0 auto; background: var(--panel); border:1px solid var(--stroke); border-radius: var(--radius); padding: 16px; box-shadow: var(--shadow); }
.hidden { display: none !important; }

.field { display:flex; flex-direction:column; gap:6px; margin: 8px 0; }
.field input, .field select {
  background:#0b1220; border:1px solid var(--stroke); color:var(--text); border-radius:12px; padding:10px 12px; outline:none;
}
.with-icon { position:relative; }
.in-icon { position:absolute; width:18px; height:18px; left:10px; top:50%; transform:translateY(-50%); opacity:.7 }
.with-icon input { padding-left:36px; }

.grid2 { display:grid; grid-template-columns: 1fr 1fr; gap: 10px; }
@media (max-width:600px){ .grid2{ grid-template-columns:1fr; } }

.error { color: var(--danger); font-size: 12px; min-height: 16px; }
.form-msg { min-height:18px; margin-top:6px; color: var(--muted); }
.auth-footer { display:flex; gap:8px; align-items:center; justify-content:center; color:var(--muted); margin-top: 6px; }
.auth-icon { width:16px; height:16px; opacity:.8 }

/* ---------- App ---------- */
.app-header {
  position: sticky; top: 0; z-index: 10;
  display: flex; align-items: center; justify-content: space-between;
  padding: 10px 14px;
  background: linear-gradient(90deg,#0a1228,var(--panel));
  border-bottom: 1px solid var(--stroke);
  backdrop-filter: saturate(1.05) blur(6px);
}
.header-actions { display:flex; gap:8px; }
.who { color:var(--muted); }

.app-main { padding: 14px 12px 74px; }
.page-head { display:flex; align-items:center; gap:10px; margin: 6px 2px 10px; }
.page-logo { width:28px; height:28px; border-radius:5px; }
.page-icon { width:18px; opacity:.8 }

.panel {
  background: linear-gradient(180deg, var(--panel), #0b1224);
  border: 1px solid var(--stroke);
  border-radius: var(--radius);
  padding: 12px;
  box-shadow: var(--shadow);
  margin-bottom: 12px;
}
.row { display:flex; align-items:flex-end; gap:10px; flex-wrap:wrap; }
.wrap { flex-wrap:wrap; }
.lab { color:var(--muted); font-size:13px }

.btn {
  cursor: pointer; border:1px solid #24407a;
  background: linear-gradient(180deg,#14264a,#0f1f3f);
  color:#dbeafe; padding:10px 12px; border-radius:12px;
}
.btn.primary { border-color:#1f4ed8; background:linear-gradient(180deg,#1e3a8a,#1a2e68) }
.btn.success { border-color:#11653a; background:linear-gradient(180deg,#0e5130,#0b3f25) }
.btn.danger { border-color:#7a2430; background:linear-gradient(180deg,#4a1420,#3f0f1a); color:#fecaca }
.btn.ghost  { border-color:transparent; background:transparent; color:var(--text) }

.muted{ color: var(--muted); }

/* Tabs */
.tabs { display:flex; gap:6px; margin: 6px 0 10px; }
.tabs.small .tab { padding:8px 10px; }

/* Bottom nav */
.bottom-nav{
  position: fixed; left:0; right:0; bottom:0; z-index: 20;
  display: grid; grid-template-columns: repeat(4, 1fr); gap: 0;
  background: linear-gradient(180deg, var(--panel), #0b1224);
  border-top: 1px solid var(--stroke);
  padding: 6px 6px calc(6px + env(safe-area-inset-bottom));
}
.bottom-nav button{
  display:flex; flex-direction:column; align-items:center; gap:4px;
  padding: 8px 6px; background: transparent; border: none; color: var(--text);
}
.bottom-nav img{ width:20px; height:20px; opacity:.9 }
.bottom-nav button.active{ color: var(--accent-2); }

/* Cards / grids */
.cards{ display:grid; grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); gap: 12px; }
.card{
  background: linear-gradient(180deg, var(--card), #0b1220);
  border:1px solid var(--stroke); border-radius: var(--radius);
  overflow:hidden; display:flex; flex-direction:column; box-shadow: var(--shadow);
}
.card .poster{ width:100%; aspect-ratio:3/4; object-fit:cover; background:#0e162e }
.card .body{ padding: 10px 12px; }
.card h3{ margin: 0 0 6px; font-size: 16px }
.badge{ display:inline-block; font-size:12px; padding:2px 8px; border-radius:999px; border:1px solid var(--stroke); background:#0b1220; color:#cbd5e1; margin-right:6px }
.desc{ color:#cbd5e1; opacity:.85; font-size:13px; min-height:40px }

.grid{ display:grid; grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); gap: 12px; }
.av { background:linear-gradient(180deg,var(--card),#0b1220); border:1px solid var(--stroke); border-radius:var(--radius); overflow:hidden; box-shadow:var(--shadow) }
.av img{ width:100%; aspect-ratio:2/3; object-fit:cover; background:#0e162e }
.av .in{ padding:10px }
.av .title{ font-weight:700; line-height:1.25; min-height:36px }
.av .meta{ color:var(--muted); font-size:13px; margin-top:4px }

.progress{ height:8px; background:#0b1220; border:1px solid var(--stroke); border-radius:999px; overflow:hidden }
.progress > span{ display:block; height:100%; width:0%; background:linear-gradient(90deg,#1f4ed8,#22c55e) }

/* Segmented buttons */
.segmented{ display:flex; gap:8px; flex-wrap:wrap }
.segmented button{
  display:flex; gap:6px; align-items:center;
  border:1px solid var(--stroke); background:#0b1220;
  padding:8px 10px; border-radius:999px; color:var(--text);
}
.segmented button.active{ border-color:var(--accent) }
.segmented img{ width:16px; height:16px; opacity:.85 }

/* Helpers */
.grow{ flex:1 }
.page{ animation: fade .2s ease }
@keyframes fade{ from{opacity:.7; transform: translateY(2px)} to{opacity:1; transform:none} }

/* Torrent rows */
.t-row{
  display:grid; gap:10px; align-items:center;
  grid-template-columns: 1fr minmax(120px,240px) 140px 160px;
  border:1px solid var(--stroke); background:linear-gradient(180deg,var(--card),#0b1220);
  padding:10px; border-radius:12px; margin-bottom:8px;
}
.t-name{ font-weight:600 }
.t-ops{ display:flex; gap:6px; flex-wrap:wrap; justify-content:flex-end }
.stat{ font-size:12px; color:var(--muted) }
