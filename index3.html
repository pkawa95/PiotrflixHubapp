<!doctype html>
<html lang="pl" data-theme="dark">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>PiotrFlix</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>

  <!-- ========== AUTH ========== -->
  <section id="auth" class="auth-screen">
    <img src="assets/logo.png" alt="PiotrFlix" class="auth-logo" />

    <div class="auth-tabs" role="tablist" aria-label="PrzeÅ‚Ä…cz logowanie i rejestracjÄ™">
      <button class="tab active" id="tab-login" data-tab="login" aria-selected="true">Zaloguj</button>
      <button class="tab" id="tab-register" data-tab="register" aria-selected="false">Zarejestruj</button>
    </div>

    <!-- Logowanie -->
    <form id="loginForm" class="auth-form" autocomplete="on" novalidate>
      <div class="field">
        <label>Email</label>
        <input type="email" id="loginEmail" placeholder="np. jan@domena.pl" required>
        <p class="error" id="loginEmailErr"></p>
      </div>
      <div class="field">
        <label>HasÅ‚o</label>
        <input type="password" id="loginPassword" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" required>
        <p class="error" id="loginPasswordErr"></p>
      </div>
      <button class="btn primary" type="submit">Zaloguj</button>
      <p class="form-msg" id="loginMsg"></p>
    </form>

    <!-- Rejestracja -->
    <form id="registerForm" class="auth-form hidden" autocomplete="on" novalidate>
      <div class="grid2">
        <div class="field">
          <label>ImiÄ™</label>
          <input type="text" id="regFirst" placeholder="Jan" required>
          <p class="error" id="regFirstErr"></p>
        </div>
        <div class="field">
          <label>Nazwisko</label>
          <input type="text" id="regLast" placeholder="Kowalski" required>
          <p class="error" id="regLastErr"></p>
        </div>
      </div>
      <div class="field">
        <label>Email</label>
        <input type="email" id="regEmail" placeholder="np. jan@domena.pl" required>
        <p class="error" id="regEmailErr"></p>
      </div>
      <div class="grid2">
        <div class="field">
          <label>HasÅ‚o</label>
          <input type="password" id="regPass1" placeholder="min. 6 znakÃ³w" required>
          <p class="error" id="regPass1Err"></p>
        </div>
        <div class="field">
          <label>PowtÃ³rz hasÅ‚o</label>
          <input type="password" id="regPass2" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" required>
          <p class="error" id="regPass2Err"></p>
        </div>
      </div>
      <button class="btn success" type="submit">UtwÃ³rz konto</button>
      <p class="form-msg" id="regMsg"></p>
    </form>

    <footer class="auth-footer">
      <img src="assets/icon.png" alt="" class="auth-icon">
      <span>Â© PiotrFlix 2025</span>
    </footer>
  </section>

  <!-- ========== APP ========== -->
  <header class="app-header hidden" id="appHeader">
    <div class="who" id="who">â€”</div>
    <div class="header-actions">
      <button class="btn ghost" id="themeToggle" title="PrzeÅ‚Ä…cz motyw">ðŸŒ“</button>
      <button class="btn ghost" id="logoutBtn">Wyloguj</button>
    </div>
  </header>

  <main class="app-main hidden" id="appMain">
    <!-- TORRENTS -->
    <section class="page" data-page="torrents">
      <div class="page-head">
        <img src="assets/logo.png" class="page-logo" alt="">
        <h2>Torrenty</h2>
      </div>

      <div class="panel">
        <div class="row">
          <label class="lab">Sortuj:</label>
          <select id="tSort">
            <option value="name">nazwa</option>
            <option value="progress">postÄ™p</option>
            <option value="state">stan</option>
          </select>

          <label class="lab">Limit:</label>
          <select id="tRate">
            <option value="0">unlimited</option>
            <option value="1">1 MiB/s</option>
            <option value="2">2 MiB/s</option>
            <option value="5">5 MiB/s</option>
            <option value="10">10 MiB/s</option>
          </select>

          <button class="btn" id="tApplyRate">Ustaw</button>
          <span class="muted" id="tInfo">â€”</span>
        </div>

        <div class="tabs small" role="tablist">
          <button class="tab active" data-t-tab="queue">Kolejka</button>
          <button class="tab" data-t-tab="active">Aktywne</button>
        </div>

        <!-- Kolejka -->
        <div id="tQueue" class="t-list"></div>

        <!-- Aktywne -->
        <div id="tActive" class="t-list hidden"></div>
      </div>
    </section>

    <!-- SEARCH -->
    <section class="page hidden" data-page="search">
      <div class="page-head">
        <h2>Wyszukaj</h2>
      </div>

      <div class="panel">
        <div class="segmented" id="providerSeg">
          <button data-provider="yts_html" class="active">
            <img src="assets/svg/film-gallery-svgrepo-com.svg" alt=""> Filmy â€“ YTS HTML
          </button>
          <button data-provider="tpb_premium">
            <img src="assets/svg/secure-download-svgrepo-com.svg" alt=""> Filmy+ â€“ TPB MOVIES
          </button>
          <button data-provider="tpb_series">
            <img src="assets/svg/film-gallery-svgrepo-com.svg" alt=""> Seriale â€“ TPB SERIES
          </button>
        </div>

        <div class="row">
          <div class="field grow">
            <label>Szukaj tytuÅ‚u</label>
            <div class="with-icon">
              <img src="assets/svg/search-alt-2-svgrepo-com.svg" class="in-icon" alt="">
              <input id="sQuery" placeholder="np. Harry Potter">
            </div>
          </div>
          <div class="field">
            <label>JakoÅ›Ä‡ (YTS)</label>
            <select id="sQuality">
              <option value="">auto</option>
              <option value="2160p">2160p</option>
              <option value="1080p" selected>1080p</option>
              <option value="720p">720p</option>
            </select>
          </div>
          <button class="btn primary" id="sBtn">Szukaj</button>
        </div>
      </div>

      <div id="sResults" class="cards"></div>
    </section>

    <!-- AVAILABLE -->
    <section class="page hidden" data-page="available">
      <div class="page-head">
        <h2>DostÄ™pne</h2>
        <img src="assets/svg/film-gallery-svgrepo-com.svg" class="page-icon" alt="">
      </div>

      <div class="panel row wrap">
        <div class="field grow">
          <label>Filtr</label>
          <input id="aFilter" placeholder="Szukaj w dostÄ™pnych...">
        </div>
        <div class="field">
          <label>Typ</label>
          <select id="aKind">
            <option value="all">wszystko</option>
            <option value="movie">filmy</option>
            <option value="series">seriale</option>
          </select>
        </div>
        <div class="field">
          <label>Sortuj</label>
          <select id="aSort">
            <option value="recent">ostatnio aktualizowane</option>
            <option value="title">tytuÅ‚ Aâ†’Z</option>
            <option value="progress">postÄ™p</option>
          </select>
        </div>
        <button class="btn" id="aRefresh">OdÅ›wieÅ¼</button>
        <span class="muted" id="aInfo">â€”</span>
      </div>

      <div id="aGrid" class="grid"></div>
    </section>

    <!-- SETTINGS / OPCJE -->
    <section class="page hidden" data-page="settings">
      <div class="page-head">
        <h2>Opcje</h2>
        <img src="assets/svg/settings-svgrepo-com.svg" class="page-icon" alt="">
      </div>

      <div class="panel">
        <div class="row">
          <div class="field grow">
            <label>API Base URL</label>
            <input id="baseUrl" value="https://api.pkportfolio.pl">
            <p class="muted">Wymagany CORS. Zmiany zapisywane lokalnie.</p>
          </div>
          <button class="btn" id="saveBase">Zapisz</button>
        </div>

        <div class="row">
          <div class="field">
            <label>Torrent device_id</label>
            <input id="deviceIdInput" placeholder="np. NAS-01">
            <p class="muted">UÅ¼ywany przy komendach (pauza, limit, usuÅ„...)</p>
          </div>
          <div class="field">
            <label>Plex client_id</label>
            <input id="plexClientInput" placeholder="np. com.plexapp.android / UUID">
            <p class="muted">Przechowywany na przyszÅ‚e funkcje CAST</p>
          </div>
          <button class="btn" id="saveDevices">Zapisz urzÄ…dzenia</button>
        </div>

        <div class="row">
          <button class="btn" id="toggleTheme">PrzeÅ‚Ä…cz jasny/ciemny</button>
        </div>
      </div>
    </section>
  </main>

  <!-- Bottom nav -->
  <nav class="bottom-nav hidden" id="bottomNav">
    <button data-target="torrents" class="active"><img src="assets/svg/secure-download-svgrepo-com.svg" alt=""><span>Torrenty</span></button>
    <button data-target="search"><img src="assets/svg/search-alt-2-svgrepo-com.svg" alt=""><span>Wyszukaj</span></button>
    <button data-target="available"><img src="assets/svg/film-gallery-svgrepo-com.svg" alt=""><span>DostÄ™pne</span></button>
    <button data-target="settings"><img src="assets/svg/settings-svgrepo-com.svg" alt=""><span>Opcje</span></button>
  </nav>

  <script src="app.js"></script>
</body>
</html>
